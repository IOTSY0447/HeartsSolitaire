window.__require=function e(t,o,i){function c(r,a){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){return c(t[r][1][e]||e)},h,h.exports,e,t,o,i)}return o[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<i.length;r++)c(i[r]);return c}({GameCenter:[function(e,t,o){"use strict";cc._RF.push(t,"ad14a0fv8VC3qnhT+Vorvhs","GameCenter"),window.mylog=console.log;var i={ads:{},showFullScreenAD:function(){if(!cc.sys.isMobile)return!1},fiveStar:function(){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("gameCenter","FiveStar")},loadGameCenter:function(){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("gameCenter","LoadingGameCenter")},gameCenter:function(e,t){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("gameCenter","GameCenter:forCategory:",t,e)},openGameCenter:function(){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("gameCenter","OpenGameCenter")},gameAchievement:function(e,t){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("gameCenter","Achievement:percentComplete:",e,t)},init:function(){if(!cc.sys.isMobile)return!1;this.loadGameCenter()}};t.exports=i,cc._RF.pop()},{}],HeartsSolitaireAudioSource:[function(e,t,o){"use strict";cc._RF.push(t,"cdfc3abtKVDGL3jN5Z8t1Rv","HeartsSolitaireAudioSource"),cc.Class({extends:cc.Component,properties:{button:{type:cc.AudioClip,default:null},K:{type:cc.AudioClip,default:null},collect:{type:cc.AudioClip,default:null},fail:{type:cc.AudioClip,default:null},flip:{type:cc.AudioClip,default:null},move:{type:cc.AudioClip,default:null},pokerUp:{type:cc.AudioClip,default:null},pokerDown:{type:cc.AudioClip,default:null},endAimation:{type:cc.AudioClip,default:null},shake:{type:cc.AudioClip,default:null},startAnimation:{type:cc.AudioClip,default:null},tips:{type:cc.AudioClip,default:null},undo:{type:cc.AudioClip,default:null},vectory:{type:cc.AudioClip,default:null},visiblePoker:{type:cc.AudioClip,default:null},touch:{type:cc.AudioClip,default:null},resetPoker:{type:cc.AudioClip,default:null}},onLoad:function(){cc.game.addPersistRootNode(this.node),window.audioplayer=this},start:function(){},play_button:function(){dataMgr.gameSound&&this.play(this.button,!1,1)},play_K:function(){dataMgr.gameSound&&this.play(this.K,!1,1)},play_collect:function(){dataMgr.gameSound&&this.play(this.collect,!1,1)},play_fail:function(){dataMgr.gameSound&&this.play(this.fail,!1,1)},play_flip:function(){dataMgr.gameSound&&this.play(this.flip,!1,1)},play_move:function(){dataMgr.gameSound&&this.play(this.move,!1,1)},play_pokerUp:function(){dataMgr.gameSound&&this.play(this.pokerUp,!1,1)},play_pokerDown:function(){dataMgr.gameSound&&this.play(this.pokerDown,!1,1)},play_endAimation:function(){dataMgr.gameSound&&this.play(this.endAimation,!1,1)},play_shake:function(){dataMgr.gameSound&&this.play(this.shake,!1,1)},play_startAnimation:function(){dataMgr.gameSound&&this.play(this.startAnimation,!1,1)},play_tips:function(){dataMgr.gameSound&&this.play(this.tips,!1,1)},play_undo:function(){dataMgr.gameSound&&this.play(this.undo,!1,1)},play_vectory:function(){dataMgr.gameSound&&this.play(this.vectory,!1,1)},play_visiblePoker:function(){dataMgr.gameSound&&this.play(this.visiblePoker,!1,1)},play_touch:function(){dataMgr.gameSound&&this.play(this.touch,!1,1)},play_resetPoker:function(){dataMgr.gameSound&&this.play(this.resetPoker,!1,1)},play:function(e,t,o){return cc.audioEngine.play(e,t,o)},stop:function(e){cc.audioEngine.stop(e)},stopAll:function(){cc.audioEngine.stopAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()}}),cc._RF.pop()},{}],HeartsSolitaireAutoVectoryMove:[function(e,t,o){"use strict";cc._RF.push(t,"63e79vWjWxBipXY28Zy4fv9","HeartsSolitaireAutoVectoryMove"),cc.Class({extends:cc.Component,properties:{block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager")},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},cancel:function(){window.audioplayer.play_button(),this.block.opacity=0,dataMgr.isOperateVectory=!0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,900)),cc.callFunc(function(){this.node.active=!1},this)))},ok:function(){window.audioplayer.play_button(),this.pokerManager.autoVectoryMove(),this.node.active=!1}}),cc._RF.pop()},{}],HeartsSolitaireBackGround:[function(e,t,o){"use strict";cc._RF.push(t,"9973fihcxNMZomqD1fWAFWj","HeartsSolitaireBackGround"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,scoreLabel:cc.Label,label:cc.Node,mins:0,sec:0,count:0},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.judgeBorderState()},start:function(){},time:function(){dataMgr.isTimeGoesBy&&(dataMgr.curTime++,this.sec++,this.sec>=60&&(this.sec=0,this.mins++),this.sec<10?this.timeLabel.string=this.mins+".0"+this.sec:this.timeLabel.string=this.mins+"."+this.sec)},judgeBorderState:function(){dataMgr.isScoreLabel?this.label.active=!0:this.label.active=!1},update:function(e){this.count++,this.count>=60&&(this.time(),this.count=0),this.scoreLabel.string=dataMgr.curScore}}),cc._RF.pop()},{}],HeartsSolitaireBlock:[function(e,t,o){"use strict";cc._RF.push(t,"11b4bJjo6BOZrt8DK3R8qvX","HeartsSolitaireBlock"),cc.Class({extends:cc.Component,properties:{settlement:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.node.on("touchstart",this.touchstart,this)},start:function(){},touchstart:function(e){0==e.touch._id&&this.pokerManager.animationCount>=2&&dataMgr.isGameWin&&this.pokerManager.preSettleMent()}}),cc._RF.pop()},{}],HeartsSolitaireDataMgr:[function(e,t,o){"use strict";cc._RF.push(t,"c8922zDUglOF50xCU021Jxr","HeartsSolitaireDataMgr"),window.selectPokerArray=new Array,window.selectPokerPosArray=new Array,window.selectPokerNodeArray=new Array,window.replayPokerArray=new Array,window.tipsPokerArray=new Array,window.undoPokerArray=new Array,window.dataMgr={},dataMgr.gameMode="ONE_POKER_MODE",dataMgr.leftHand=!1,dataMgr.gameSound=!0,dataMgr.isScoreLabel=!0,dataMgr.noNewGuide=!1,dataMgr.noNewGameTips=!1,dataMgr.noAD=!1,dataMgr.isFiveStar=!0,dataMgr.fiveStarCount=0,dataMgr.isReplay=!1,dataMgr.isFirstLogin=!0,dataMgr.touchStart=!1,dataMgr.tipsMove=!1,dataMgr.isGameWin=!1,dataMgr.isTimeGoesBy=!0,dataMgr.isOperateVectory=!1,dataMgr.curScore=0,dataMgr.bestScoreModeOne=0,dataMgr.bestScoreModeThree=0,dataMgr.curTime=0,dataMgr.totalTime=0,dataMgr.bestTimeModeOne=1e9,dataMgr.bestTimeModeThree=1e9,dataMgr.gameCountModeOne=0,dataMgr.gameCountModeThree=0,dataMgr.gamewinCountModeOne=0,dataMgr.gamewinCountModeThree=0,dataMgr.winStreakCountModeOne=0,dataMgr.winStreakCountModeThree=0,dataMgr.bestWinStreakCountModeOne=0,dataMgr.bestWinStreakCountModeThree=0,dataMgr.failStreakCountModeOne=0,dataMgr.failStreakCountModeThree=0,dataMgr.bestFailStreakCountModeOne=0,dataMgr.bestFailStreakCountModeThree=0,dataMgr.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},dataMgr.getItem=function(e){return cc.sys.localStorage.getItem(e)},window.sdkmanager=e("sdkmanager"),window.iap=e("iap"),window.gameCenter=e("GameCenter"),window.showFullScreen=function(e){dataMgr.noAD||(dataMgr.gamewinCountModeOne+dataMgr.gamewinCountModeThree<=1?console.log("\u80dc\u5229\u5c40\u6570\u4e0d\u8db32\u5c40\uff0c\u4e0d\u64ad\u653e\u5e7f\u544a"):Math.floor(100*Math.random())<e?(console.log("\u6982\u7387\u6ee1\u8db3"),window.sdkmanager.isFullScreenAvailable()?(console.log("\u5168\u5c4f\u5e7f\u544a\u83b7\u53d6\u6210\u529f,\u64ad\u653e\u5e7f\u544a"),window.sdkmanager.showFullScreenAD()):(console.log("\u5168\u5c4f\u5e7f\u544a\u83b7\u53d6\u5931\u8d25"),window.sdkmanager.cacheFullScreenAD())):console.log("\u6982\u7387\u4e0d\u8db3"))},window.showBanner=function(){dataMgr.noAD||(dataMgr.gamewinCountModeOne+dataMgr.gamewinCountModeThree<=1?console.log("\u80dc\u5229\u5c40\u6570\u4e0d\u8db32\u5c40\uff0c\u4e0d\u64ad\u653ebanner\u5e7f\u544a"):window.sdkmanager.showBanner())},window.hideBanner=function(){window.sdkmanager.hideBanner()},cc._RF.pop()},{GameCenter:"GameCenter",iap:"iap",sdkmanager:"sdkmanager"}],HeartsSolitaireFitSize:[function(e,t,o){"use strict";cc._RF.push(t,"2a50f4k3kpIEq/uu6KhEq5h","HeartsSolitaireFitSize"),cc.Class({extends:cc.Component,properties:{border:cc.Node,pokerManager:cc.Node,ruleBorder:cc.Node,scrollView:cc.Node},onLoad:function(){this.fitSize();this.ruleBorder.getChildByName("exitButton").getComponent(cc.Widget)},start:function(){},fitSize:function(){var e=this.node.getComponent(cc.Canvas),t=cc.winSize;console.log("\u8bbe\u5907\u5bbd\u5ea6"+t.width),console.log("\u8bbe\u5907\u9ad8\u5ea6"+t.height),t.width/t.height==.75&&(console.log("ipad\u9002\u914d"),e.fitHeight=!0,e.fitWidth=!1,this.scrollView.width=852)}}),cc._RF.pop()},{}],HeartsSolitaireFiveStar:[function(e,t,o){"use strict";cc._RF.push(t,"ebec6RF5zlF6KjBcWe+J8+l","HeartsSolitaireFiveStar"),cc.Class({extends:cc.Component,properties:{block:cc.Node},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},onDisable:function(){this.node.position=cc.v2(0,-1e3),this.block.opacity=255},cancel:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1e3)),cc.callFunc(function(){this.node.active=!1},this)))},like:function(){window.audioplayer.play_button(),window.gameCenter.fiveStar(),dataMgr.isFiveStar=!1,dataMgr.setItem("isFiveStar",dataMgr.isFiveStar),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1e3)),cc.callFunc(function(){this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireGameMenu:[function(e,t,o){"use strict";cc._RF.push(t,"d2383G7ENtFlpEVMNyR6HSG","HeartsSolitaireGameMenu"),cc.Class({extends:cc.Component,properties:{statisticMenu:cc.Node,loading:cc.Node,removeADButton:cc.Button,block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager")},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3))),this.removeAD_interactable()},onDisable:function(){this.block.opacity=255,this.node.position=cc.v2(0,-1100)},newGame:function(){window.audioplayer.play_button(),this.pokerManager.newGame(),this.node.active=!1},replay:function(){window.audioplayer.play_button(),this.pokerManager.replay(),this.node.active=!1},statistic:function(){window.audioplayer.play_button(),this.statisticMenu.active=!0,this.node.active=!1},gameCenter:function(){window.audioplayer.play_button(),window.gameCenter.openGameCenter()},removeAD:function(){window.audioplayer.play_button(),window.iap.remove_ads()},removeAD_interactable:function(){dataMgr.noAD?this.removeADButton.interactable=!1:this.removeADButton.interactable=!0},exit:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1100)),cc.callFunc(function(){dataMgr.isTimeGoesBy=!0,this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireHowToPlay:[function(e,t,o){"use strict";cc._RF.push(t,"ce3a6xS9MRImrA2wgfVm5aB","HeartsSolitaireHowToPlay"),cc.Class({extends:cc.Component,properties:{},start:function(){},onEnable:function(){},onDisable:function(){},exit:function(){window.audioplayer.play_button(),this.node.active=!1}}),cc._RF.pop()},{}],HeartsSolitaireImpasse:[function(e,t,o){"use strict";cc._RF.push(t,"15f37usfQpLOY9YqoXksDSZ","HeartsSolitaireImpasse"),cc.Class({extends:cc.Component,properties:{settlement:cc.Node,block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager")},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},onDisable:function(){this.block.opacity=255,this.node.position=cc.v2(0,-900)},undo:function(){this.node.active=!1,this.pokerManager.undo()},ok:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,900)),cc.callFunc(function(){this.settlement.active=!0,this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireLoadLocalData:[function(e,t,o){"use strict";cc._RF.push(t,"0ff9cZrQJJLR4TcTYDHxL8F","HeartsSolitaireLoadLocalData"),cc.Class({extends:cc.Component,properties:{newGuide:cc.Node,loading:cc.Node,restoreMenu:cc.Node,removeADButton:cc.Button,isHide:!1},onLoad:function(){this.init(),this.loadLocalData(),this.isNewGuide(),this.isFirstLogin(),this.gameEvent(),this.scheduleOnce(function(){window.showBanner()},5)},start:function(){},init:function(){window.sdkmanager.init(),window.iap.init(),window.gameCenter.init(),window.sdkmanager.setCallback(this.adCallBack.bind(this)),window.iap.setCallback(this.iapCallBack.bind(this))},adCallBack:function(e,t){switch(console.log(e,t),e){case"success_cache":break;case"onChartboostDismiss":case"adViewDidDismissScreen":cc.director.resume(),window.sdkmanager.cacheFullScreenAD()}},iapCallBack:function(e,t){switch(console.log(e,t),e){case"onRestored":console.log("\u6062\u590d\u8d2d\u4e70\u53bb\u5e7f\u544aID   "+t.id),"HeartsSolitaire.Noads"==t.id&&(console.log("\u6062\u590d\u8d2d\u4e70\u6210\u529f"),dataMgr.noAD=!0,dataMgr.setItem("noAD",dataMgr.noAD),this.removeADButton.interactable=!1,this.restoreMenu.active=!0,window.hideBanner());break;case"onRestoreComplete":break;case"onBuy":console.log("\u8d2d\u4e70ID   "+t.id),"HeartsSolitaire.Noads"==t.id&&(console.log("\u53bb\u5e7f\u544a\u6210\u529f"),dataMgr.noAD=!0,dataMgr.setItem("noAD",dataMgr.noAD),this.removeADButton.interactable=!1,window.hideBanner());break;case"onFailure":console.log("\u8d2d\u4e70\u5931\u8d25");break;case"onCanceled":console.log("\u7528\u6237\u53d6\u6d88\u5219\u89e6\u53d1")}},gameEvent:function(){cc.game.on(cc.game.EVENT_HIDE,function(){this.isHide=!0,console.log("\u8fdb\u5165\u540e\u53f0")},this),cc.game.on(cc.game.EVENT_SHOW,function(){this.isHide&&(this.scheduleOnce(function(){window.showFullScreen(100)},1),this.isHide=!1,console.log("\u8fd4\u56de\u6e38\u620f"))},this)},isNewGuide:function(){dataMgr.noNewGuide||this.scheduleOnce(function(){this.newGuide.active=!0},.7)},isFirstLogin:function(){dataMgr.isFirstLogin?(console.log("\u7b2c\u4e00\u6b21\u767b\u9646\uff0c\u64ad\u653e\u5168\u5c4f\u5e7f\u544a"),this.scheduleOnce(function(){window.showFullScreen(100)},3.3)):console.log("\u91cd\u65b0\u52a0\u8f7d\u573a\u666f")},loadLocalData:function(){if(dataMgr.getItem("totalTime")?dataMgr.totalTime=Number(dataMgr.getItem("totalTime")):dataMgr.totalTime=0,dataMgr.getItem("bestScoreModeOne")?dataMgr.bestScoreModeOne=Number(dataMgr.getItem("bestScoreModeOne")):dataMgr.bestScoreModeOne=0,dataMgr.getItem("bestScoreModeThree")?dataMgr.bestScoreModeThree=Number(dataMgr.getItem("bestScoreModeThree")):dataMgr.bestScoreModeThree=0,dataMgr.getItem("bestTimeModeOne")?dataMgr.bestTimeModeOne=Number(dataMgr.getItem("bestTimeModeOne")):dataMgr.bestTimeModeOne=1e9,dataMgr.getItem("bestTimeModeThree")?dataMgr.bestTimeModeThree=Number(dataMgr.getItem("bestTimeModeThree")):dataMgr.bestTimeModeThree=1e9,dataMgr.getItem("gameCountModeOne")?(dataMgr.gameCountModeOne=Number(dataMgr.getItem("gameCountModeOne")),console.log("\u4e00\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeOne)):(dataMgr.gameCountModeOne=0,console.log("\u4e00\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeOne)),dataMgr.getItem("gameCountModeThree")?(dataMgr.gameCountModeThree=Number(dataMgr.getItem("gameCountModeThree")),console.log("\u4e09\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeThree)):(dataMgr.gameCountModeThree=0,console.log("\u4e09\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeThree)),dataMgr.getItem("gamewinCountModeOne")?(dataMgr.gamewinCountModeOne=Number(dataMgr.getItem("gamewinCountModeOne")),console.log("\u4e00\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeOne)):(dataMgr.gamewinCountModeOne=0,console.log("\u4e00\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeOne)),dataMgr.getItem("gamewinCountModeThree")?(dataMgr.gamewinCountModeThree=Number(dataMgr.getItem("gamewinCountModeThree")),console.log("\u4e09\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeThree)):(dataMgr.gamewinCountModeThree=0,console.log("\u4e09\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeThree)),dataMgr.getItem("winStreakCountModeOne")?dataMgr.winStreakCountModeOne=Number(dataMgr.getItem("winStreakCountModeOne")):dataMgr.winStreakCountModeOne=0,dataMgr.getItem("bestWinStreakCountModeOne")?dataMgr.bestWinStreakCountModeOne=Number(dataMgr.getItem("bestWinStreakCountModeOne")):dataMgr.bestWinStreakCountModeOne=0,dataMgr.getItem("failStreakCountModeOne")?dataMgr.failStreakCountModeOne=Number(dataMgr.getItem("failStreakCountModeOne")):dataMgr.failStreakCountModeOne=0,dataMgr.getItem("bestFailStreakCountModeOne")?dataMgr.bestFailStreakCountModeOne=Number(dataMgr.getItem("bestFailStreakCountModeOne")):dataMgr.bestFailStreakCountModeOne=0,dataMgr.getItem("winStreakCountModeThree")?dataMgr.winStreakCountModeThree=Number(dataMgr.getItem("winStreakCountModeThree")):dataMgr.winStreakCountModeThree=0,dataMgr.getItem("bestWinStreakCountModeThree")?dataMgr.bestWinStreakCountModeThree=Number(dataMgr.getItem("bestWinStreakCountModeThree")):dataMgr.bestWinStreakCountModeThree=0,dataMgr.getItem("failStreakCountModeThree")?dataMgr.failStreakCountModeThree=Number(dataMgr.getItem("failStreakCountModeThree")):dataMgr.failStreakCountModeThree=0,dataMgr.getItem("bestFailStreakCountModeThree")?dataMgr.bestFailStreakCountModeThree=Number(dataMgr.getItem("bestFailStreakCountModeThree")):dataMgr.bestFailStreakCountModeThree=0,dataMgr.getItem("gameMode")?(dataMgr.gameMode=dataMgr.getItem("gameMode"),console.log("\u6e38\u620f\u6a21\u5f0f"+dataMgr.gameMode)):(dataMgr.gameMode="ONE_POKER_MODE",console.log("\u6e38\u620f\u6a21\u5f0f"+dataMgr.gameMode)),dataMgr.getItem("leftHand")){var e=dataMgr.getItem("leftHand");e="true"===e,dataMgr.leftHand=e,console.log("\u5de6\u624b\u6a21\u5f0f"+dataMgr.leftHand)}else dataMgr.leftHand=!1,console.log("\u5de6\u624b\u6a21\u5f0f"+dataMgr.leftHand);if(dataMgr.getItem("gameSound")){var t=dataMgr.getItem("gameSound");t="true"===t,dataMgr.gameSound=t,console.log("\u6e38\u620f\u58f0\u97f3"+dataMgr.gameSound)}else dataMgr.gameSound=!0,console.log("\u6e38\u620f\u58f0\u97f3"+dataMgr.gameSound);if(dataMgr.getItem("isScoreLabel")){var o=dataMgr.getItem("isScoreLabel");o="true"===o,dataMgr.isScoreLabel=o,console.log("\u662f\u5426\u663e\u793a\u5206\u6570\u65f6\u95f4"+dataMgr.isScoreLabel)}else dataMgr.isScoreLabel=!0,console.log("\u662f\u5426\u663e\u793a\u5206\u6570\u65f6\u95f4"+dataMgr.isScoreLabel);if(dataMgr.getItem("noNewGuide")){var i=dataMgr.getItem("noNewGuide");i="true"===i,dataMgr.noNewGuide=i,console.log("\u4e0d\u518d\u663e\u793a\u65b0\u624b\u6559\u7a0b"+dataMgr.noNewGuide)}else dataMgr.noNewGuide=!1,console.log("\u4e0d\u518d\u663e\u793a\u65b0\u624b\u6559\u7a0b"+dataMgr.noNewGuide);if(dataMgr.getItem("noNewGameTips")){var c=dataMgr.getItem("noNewGameTips");c="true"===c,dataMgr.noNewGameTips=c,console.log("\u4e0d\u518d\u663e\u793a\u91cd\u5f00\u4e00\u5c40\u63d0\u793a"+dataMgr.noNewGameTips)}else dataMgr.noNewGameTips=!1,console.log("\u4e0d\u518d\u663e\u793a\u91cd\u5f00\u4e00\u5c40\u63d0\u793a"+dataMgr.noNewGameTips);if(dataMgr.getItem("noAD")){var n=dataMgr.getItem("noAD");n="true"===n,dataMgr.noAD=n,console.log("\u662f\u5426\u53bb\u5e7f\u544a"+dataMgr.noAD)}else dataMgr.noAD=!1,console.log("\u662f\u5426\u53bb\u5e7f\u544a"+dataMgr.noAD);if(dataMgr.getItem("isFiveStar")){var r=dataMgr.getItem("isFiveStar");r="true"===r,dataMgr.isFiveStar=r,console.log("\u662f\u5426\u4e94\u661f\u597d\u8bc4\u524d\u7f6e\u7a97"+dataMgr.isFiveStar)}else dataMgr.isFiveStar=!0,console.log("\u662f\u5426\u4e94\u661f\u597d\u8bc4\u524d\u7f6e\u7a97"+dataMgr.isFiveStar);dataMgr.getItem("fiveStarCount")?(dataMgr.fiveStarCount=Number(dataMgr.getItem("fiveStarCount")),console.log("\u4e94\u661f\u597d\u8bc4\u524d\u7f6e\u7a97\u6b21\u6570"+dataMgr.fiveStarCount)):(dataMgr.fiveStarCount=0,console.log("\u4e94\u661f\u597d\u8bc4\u524d\u7f6e\u7a97\u6b21\u6570"+dataMgr.fiveStarCount))}}),cc._RF.pop()},{}],HeartsSolitaireLoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"baabcseXrNN9qE4uaUMxy0B","HeartsSolitaireLoadingScene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.scheduleOnce(function(){cc.director.loadScene("game")},1)},start:function(){}}),cc._RF.pop()},{}],HeartsSolitaireLoading:[function(e,t,o){"use strict";cc._RF.push(t,"1bef3luFSNM47/qCzukbw00","HeartsSolitaireLoading"),cc.Class({extends:cc.Component,properties:{bot:cc.Node,rotation:cc.Node},onLoad:function(){},start:function(){},onEnable:function(){this.bot.stopAllActions(),this.rotation.stopAllActions();var e=cc.repeatForever(cc.rotateBy(3,360).easing(cc.easeOut(1.6))),t=cc.repeatForever(cc.rotateBy(3,360).easing(cc.easeOut(1.6)));this.bot.runAction(e),this.rotation.runAction(t)},onDisable:function(){this.bot.rotation=0,this.rotation.rotation=0}}),cc._RF.pop()},{}],HeartsSolitaireNewGameTips:[function(e,t,o){"use strict";cc._RF.push(t,"00ee5z3YmZP2qR+lZWgNCOX","HeartsSolitaireNewGameTips"),cc.Class({extends:cc.Component,properties:{switch_off:cc.SpriteFrame,switch_on:cc.SpriteFrame,switchButton:cc.Button,block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager")},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},onDisable:function(){this.block.opacity=255,this.node.position=cc.v2(0,-900)},switch:function(){if(window.audioplayer.play_button(),dataMgr.noNewGameTips){dataMgr.noNewGameTips=!1,dataMgr.setItem("noNewGameTips",dataMgr.noNewGameTips);var e=this.switchButton.node.getComponent(cc.Sprite);e.spriteFrame=new cc.SpriteFrame,e.spriteFrame=this.switch_off}else{dataMgr.noNewGameTips=!0,dataMgr.setItem("noNewGameTips",dataMgr.noNewGameTips);var t=this.switchButton.node.getComponent(cc.Sprite);t.spriteFrame=new cc.SpriteFrame,t.spriteFrame=this.switch_on}},ok:function(){window.audioplayer.play_button(),this.pokerManager.newGameSettleMent(),this.pokerManager.shufflePoker(),this.node.active=!1},cancel:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,900)),cc.callFunc(function(){this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireNewGuide:[function(e,t,o){"use strict";cc._RF.push(t,"1e4b1nyNl1Bw67/909fi+Vn","HeartsSolitaireNewGuide"),cc.Class({extends:cc.Component,properties:{switch_on:cc.SpriteFrame,switch_off:cc.SpriteFrame,playOn_spriteFrame:cc.SpriteFrame,playOff_spriteFrame:cc.SpriteFrame,countLabel:cc.Label,switchButton:cc.Button,nextButton:cc.Button,tipsSprite:cc.Sprite,tipsSpriteFrame:[cc.SpriteFrame],block:cc.Node,count:1},start:function(){},onEnable:function(){this.count=1,this.showLabel(),this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},onDisable:function(){},showLabel:function(){this.countLabel.string=this.count+"/5"},showTips:function(){this.tipsSprite.spriteFrame=new cc.SpriteFrame,this.tipsSprite.spriteFrame=this.tipsSpriteFrame[this.count-1],3==this.count?this.tipsSprite.node.y+=30:4==this.count?this.tipsSprite.node.y+=17:5==this.count&&(this.tipsSprite.node.y-=17)},next:function(){if(window.audioplayer.play_button(),4==this.count){var e=this.nextButton.node.getComponent(cc.Sprite);e.spriteFrame=new cc.SpriteFrame,e.spriteFrame=this.playOff_spriteFrame,this.nextButton.normalSprite=this.playOff_spriteFrame,this.nextButton.pressedSprite=this.playOn_spriteFrame,this.nextButton.hoverSprite=this.playOff_spriteFrame,this.nextButton.disabledSprite=this.playOff_spriteFrame}else if(5==this.count)return void this.close();this.count++,this.showLabel(),this.showTips()},switch:function(){if(window.audioplayer.play_button(),dataMgr.noNewGuide){dataMgr.noNewGuide=!1,dataMgr.setItem("noNewGuide",dataMgr.noNewGuide);var e=this.switchButton.node.getComponent(cc.Sprite);e.spriteFrame=new cc.SpriteFrame,e.spriteFrame=this.switch_off}else{dataMgr.noNewGuide=!0,dataMgr.setItem("noNewGuide",dataMgr.noNewGuide);var t=this.switchButton.node.getComponent(cc.Sprite);t.spriteFrame=new cc.SpriteFrame,t.spriteFrame=this.switch_on}},close:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,900)),cc.callFunc(function(){this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitairePokerManager:[function(e,t,o){"use strict";cc._RF.push(t,"29c3dBl3vJFNo41VgWD48yj","HeartsSolitairePokerManager"),cc.Class({extends:cc.Component,properties:{poker_prefab:cc.Prefab,tips_prefab:cc.Prefab,collection1:cc.Node,collection2:cc.Node,collection3:cc.Node,collection4:cc.Node,flip1:cc.Node,flip2:cc.Node,flip3:cc.Node,pile1:cc.Node,pile2:cc.Node,pile3:cc.Node,pile4:cc.Node,pile5:cc.Node,pile6:cc.Node,pile7:cc.Node,pile8:cc.Node,block:cc.Node,collectionArray:[cc.Node],flipArray:[cc.Node],pileArray:[cc.Node],entireArray:[cc.Node],impasse:cc.Node,autoVectory:cc.Node,newGameTips:cc.Node,settlement:cc.Node},onLoad:function(){dataMgr.touchStart=!1,dataMgr.tipsMove=!1,dataMgr.isGameWin=!1,dataMgr.isTimeGoesBy=!0,dataMgr.isOperateVectory=!1,dataMgr.curScore=0,dataMgr.curTime=0,window.tipsPokerArray=[],window.undoPokerArray=[],this.leftHandState(),this.generatePoker(),this.canvas=cc.find("Canvas"),this.touchLayer=cc.find("Canvas/baseView/backGround/touchLayer").getComponent("HeartsSolitaireTouchLayer"),this.resetPoker=cc.find("Canvas/baseView/pokerManager/pile8").getComponent("HeartsSolitaireResetPoker"),this.topNode=this.node.getChildByName("topNode"),this.tipsCount=0,this.fullScreenCount_tips=0,this.fullScreenCount_undo=0,this.animationCount=0,this.autoTipsTimeCount=0},start:function(){},endAnimationPoker:function(){for(var e=new Array,t=1;t<5;t++)for(var o=1;o<14;o++)if(1==t||3==t){var i={};i.id=o+13*(t-1),i.index=o,i.flower=t,i.type="black",i.isTouch=!0,i.isVisible=!0,e.push(i)}else{var c={};c.id=o+13*(t-1),c.index=o,c.flower=t,c.type="red",c.isTouch=!0,c.isVisible=!0,e.push(c)}var n=this;function r(t,o){for(var i=0;i<o;i++){var c=e.shift(),r=n.initPoker(c);t.addChild(r),r.setPosition(cc.Vec2.ZERO)}}r(this.collection1,13),r(this.collection2,13),r(this.collection3,13),r(this.collection4,13)},generatePoker:function(){for(var e=new Array,t=1;t<5;t++)for(var o=1;o<14;o++)if(1==t||3==t){var i={};i.id=o+13*(t-1),i.index=o,i.flower=t,i.type="black",i.isTouch=!1,i.isVisible=!1,e.push(i)}else{var c={};c.id=o+13*(t-1),c.index=o,c.flower=t,c.type="red",c.isTouch=!1,c.isVisible=!1,e.push(c)}this.randomPoker(e)},randomPoker:function(e){for(var t=e.length,o=new Array,i=0;i<t;i++){var c=Math.floor(Math.random()*e.length),n=e.splice(c,1)[0];o.push(n)}dataMgr.isReplay?(dataMgr.isReplay=!1,o=[],o=window.replayPokerArray[0]):(window.replayPokerArray=[],window.replayPokerArray.push(o)),this.dividePoker(o)},dividePoker:function(e){var t=this,o=new Array;(function(){for(var i=0;i<e.length;i++){var c=e[i],n=t.initPoker(c);o.push(n)}})();for(var i=0;i<52;i++){var c=o[i];this.pile8.addChild(c),c.setPosition(cc.Vec2.ZERO)}this.block.active=!0,this.startAnimation(o)},startAnimation:function(e){window.audioplayer.play_startAnimation();for(var t=e.reverse(),o=t.splice(0,7),i=t.splice(0,6),c=t.splice(0,5),n=t.splice(0,4),r=t.splice(0,3),a=t.splice(0,2),s=t.splice(0,1),l=t.splice(0,24),h=0;h<l.length;h++){l[h].getComponent("HeartsSolitairePoker").isFlip=!0}var d=0,u=0,p=0,g=0,v=0,f=0,m=0;function M(){var e=i[u],t=e.getComponent("HeartsSolitairePoker");if(0==u){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),c=this.pile2.convertToNodeSpaceAR(o);e.parent=this.pile2,e.setPosition(c),e.runAction(cc.moveTo(.3,cc.v2(0,-15)))}else if(1==u){var n=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),r=this.pile3.convertToNodeSpaceAR(n);e.parent=this.pile3,e.setPosition(r),e.runAction(cc.moveTo(.3,cc.v2(0,-15)))}else if(2==u){var a=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),s=this.pile4.convertToNodeSpaceAR(a);e.parent=this.pile4,e.setPosition(s),e.runAction(cc.moveTo(.3,cc.v2(0,-15))),this.schedule(k,.02,4)}else if(3==u){var l=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),h=this.pile5.convertToNodeSpaceAR(l);e.parent=this.pile5,e.setPosition(h),e.runAction(cc.moveTo(.3,cc.v2(0,-15)))}else if(4==u){var d=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),p=this.pile6.convertToNodeSpaceAR(d);e.parent=this.pile6,e.setPosition(p),e.runAction(cc.moveTo(.3,cc.v2(0,-15)))}else if(5==u){var g=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),v=this.pile7.convertToNodeSpaceAR(g);e.parent=this.pile7,e.setPosition(v),e.runAction(cc.moveTo(.3,cc.v2(0,-15)))}u++}function k(){var e=c[p],t=e.getComponent("HeartsSolitairePoker");if(0==p){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),i=this.pile3.convertToNodeSpaceAR(o);e.parent=this.pile3,e.setPosition(i),e.runAction(cc.moveTo(.3,cc.v2(0,-30)))}else if(1==p){var n=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),r=this.pile4.convertToNodeSpaceAR(n);e.parent=this.pile4,e.setPosition(r),e.runAction(cc.moveTo(.3,cc.v2(0,-30)))}else if(2==p){var a=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),s=this.pile5.convertToNodeSpaceAR(a);e.parent=this.pile5,e.setPosition(s),e.runAction(cc.moveTo(.3,cc.v2(0,-30))),this.schedule(A,.02,3)}else if(3==p){var l=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),h=this.pile6.convertToNodeSpaceAR(l);e.parent=this.pile6,e.setPosition(h),e.runAction(cc.moveTo(.3,cc.v2(0,-30)))}else if(4==p){var d=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),u=this.pile7.convertToNodeSpaceAR(d);e.parent=this.pile7,e.setPosition(u),e.runAction(cc.moveTo(.3,cc.v2(0,-30)))}p++}function A(){var e=n[g],t=e.getComponent("HeartsSolitairePoker");if(0==g){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),i=this.pile4.convertToNodeSpaceAR(o);e.parent=this.pile4,e.setPosition(i),e.runAction(cc.moveTo(.3,cc.v2(0,-45)))}else if(1==g){var c=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),r=this.pile5.convertToNodeSpaceAR(c);e.parent=this.pile5,e.setPosition(r),e.runAction(cc.moveTo(.3,cc.v2(0,-45)))}else if(2==g){var a=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),s=this.pile6.convertToNodeSpaceAR(a);e.parent=this.pile6,e.setPosition(s),e.runAction(cc.moveTo(.3,cc.v2(0,-45))),this.schedule(y,.02,2)}else if(3==g){var l=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),h=this.pile7.convertToNodeSpaceAR(l);e.parent=this.pile7,e.setPosition(h),e.runAction(cc.moveTo(.3,cc.v2(0,-45)))}g++}function y(){var e=r[v],t=e.getComponent("HeartsSolitairePoker");if(0==v){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),i=this.pile5.convertToNodeSpaceAR(o);e.parent=this.pile5,e.setPosition(i),e.runAction(cc.moveTo(.3,cc.v2(0,-60)))}else if(1==v){var c=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),n=this.pile6.convertToNodeSpaceAR(c);e.parent=this.pile6,e.setPosition(n),e.runAction(cc.moveTo(.3,cc.v2(0,-60)))}else if(2==v){var a=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),s=this.pile7.convertToNodeSpaceAR(a);e.parent=this.pile7,e.setPosition(s),e.runAction(cc.moveTo(.3,cc.v2(0,-60))),this.schedule(S,.02,1)}v++}function S(){var e=a[f],t=e.getComponent("HeartsSolitairePoker");if(0==f){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),i=this.pile6.convertToNodeSpaceAR(o);e.parent=this.pile6,e.setPosition(i),e.runAction(cc.moveTo(.3,cc.v2(0,-75)))}else if(1==f){var c=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),n=this.pile7.convertToNodeSpaceAR(c);e.parent=this.pile7,e.setPosition(n),e.runAction(cc.moveTo(.3,cc.v2(0,-75))),this.scheduleOnce(w,0)}f++}function w(){var e=s[m],t=e.getComponent("HeartsSolitairePoker");if(0==m){t.isTouch=!0,t.isVisible=!0,t.setTexture();var o=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),i=this.pile7.convertToNodeSpaceAR(o);e.parent=this.pile7,e.setPosition(i),e.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-90)),cc.callFunc(function(){this.block.active=!1},this)))}m++}this.schedule(function(){var e=o[d],t=e.getComponent("HeartsSolitairePoker");if(0==d){t.isTouch=!0,t.isVisible=!0,t.setTexture();var i=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),c=this.pile1.convertToNodeSpaceAR(i);e.parent=this.pile1,e.setPosition(c),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}else if(1==d){var n=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),r=this.pile2.convertToNodeSpaceAR(n);e.parent=this.pile2,e.setPosition(r),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}else if(2==d){var a=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),s=this.pile3.convertToNodeSpaceAR(a);e.parent=this.pile3,e.setPosition(s),e.runAction(cc.moveTo(.2,cc.v2(0,0))),this.schedule(M,.02,5)}else if(3==d){var l=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),h=this.pile4.convertToNodeSpaceAR(l);e.parent=this.pile4,e.setPosition(h),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}else if(4==d){var u=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),p=this.pile5.convertToNodeSpaceAR(u);e.parent=this.pile5,e.setPosition(p),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}else if(5==d){var g=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),v=this.pile6.convertToNodeSpaceAR(g);e.parent=this.pile6,e.setPosition(v),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}else if(6==d){var f=this.pile8.parent.convertToWorldSpaceAR(this.pile8.position),m=this.pile7.convertToNodeSpaceAR(f);e.parent=this.pile7,e.setPosition(m),e.runAction(cc.moveTo(.2,cc.v2(0,0)))}d++},.02,6)},pauseSystemEvents:function(){for(var e=0;e<this.entireArray.length;e++)for(var t=0;t<this.entireArray[e].children.length;t++){this.entireArray[e].children[t].pauseSystemEvents()}},resumeSystemEvents:function(){for(var e=0;e<this.entireArray.length;e++)for(var t=0;t<this.entireArray[e].children.length;t++){this.entireArray[e].children[t].resumeSystemEvents()}},newGame:function(){window.showFullScreen(50),dataMgr.noNewGameTips?(this.newGameSettleMent(),this.shufflePoker()):this.newGameTips.active=!0,this.hideTips(),this.touchLayer.hideBorder()},winNewGame:function(){window.showFullScreen(80),this.hideTips(),this.touchLayer.hideBorder(),dataMgr.isFirstLogin=!1,cc.director.loadScene("game")},failNewGame:function(){var e=dataMgr.gamewinCountModeOne+dataMgr.gamewinCountModeThree,t=dataMgr.gameCountModeOne+dataMgr.gameCountModeThree,o=t-e;console.log("\u80dc\u5229\u6b21\u6570 "+e),console.log("\u6e38\u620f\u5c40\u6570 "+t),console.log("\u5931\u8d25\u5c40\u6570 "+o),o%3==0&&window.showFullScreen(80),this.hideTips(),this.touchLayer.hideBorder(),this.shufflePoker()},replay:function(){window.showFullScreen(50),dataMgr.isReplay=!0,this.shufflePoker(),this.hideTips(),this.touchLayer.hideBorder()},winReplay:function(){dataMgr.isReplay=!0,this.hideTips(),this.touchLayer.hideBorder(),dataMgr.isFirstLogin=!1,cc.director.loadScene("game")},faileReplay:function(){dataMgr.isReplay=!0,this.hideTips(),this.touchLayer.hideBorder(),this.shufflePoker()},shufflePoker:function(){function e(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.moveTo(.3,cc.v2(i.x,i.y)))}function t(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o),c=i.x-e.x,n=i.y-e.y;e.runAction(cc.sequence(cc.spawn(cc.moveBy(.15,cc.v2(.25*c,.25*n)),cc.scaleTo(.15,0,1)),cc.callFunc(function(){e.getComponent("HeartsSolitairePoker").isVisible=!1,e.getComponent("HeartsSolitairePoker").setTexture()},this),cc.spawn(cc.moveBy(.15,cc.v2(.75*c,.75*n)),cc.scaleTo(.15,1,1))))}this.block.active=!0,window.audioplayer.play_endAimation();for(var o=0;o<this.entireArray.length;o++)for(var i=0;i<this.entireArray[o].children.length;i++){var c=this.entireArray[o].children[i];c.getComponent("HeartsSolitairePoker").isVisible?t(c,this.pile8):e(c,this.pile8)}this.scheduleOnce(function(){dataMgr.isFirstLogin=!1,cc.director.loadScene("game")},.4)},initPoker:function(e){var t=cc.instantiate(this.poker_prefab),o=t.getComponent("HeartsSolitairePoker");return o.setPoker(e.id,e.index,e.flower,e.type,e.isTouch,e.isVisible),o.setTexture(),t},vectoryJudge:function(){if(dataMgr.isOperateVectory){if(13==this.collection1.childrenCount&&13==this.collection2.childrenCount&&13==this.collection3.childrenCount&&13==this.collection4.childrenCount){var e=new Array("pedrail","wave"),t=Math.floor(2*Math.random());this.scheduleOnce(function(){"pedrail"==e[t]?this.endAnimationOne():"wave"==e[t]&&this.endAnimationTwo()},.4)}}else if("ONE_POKER_MODE"===dataMgr.gameMode){for(var o=0;o<this.pileArray.length;o++)for(var i=0;i<this.pileArray[o].childrenCount;i++){if(!this.pileArray[o].children[i].getComponent("HeartsSolitairePoker").isVisible)return}this.autoVectory.active=!0}else{if(0!=this.flip1.childrenCount)return;if(0!=this.flip2.childrenCount)return;if(0!=this.flip3.childrenCount)return;if(0!=this.pile8.childrenCount)return;for(var c=0;c<this.pileArray.length;c++)for(var n=0;n<this.pileArray[c].childrenCount;n++){if(!this.pileArray[c].children[n].getComponent("HeartsSolitairePoker").isVisible)return}this.autoVectory.active=!0}},impasseJudge:function(){var e=this,t=this.flip1.children.length+this.flip2.children.length+this.flip3.children.length+this.resetPoker.node.children.length;if(console.log("\u624b\u724c\u533a\u6251\u514b\u6570\u91cf"+t),!(this.resetPoker.resetCount<2&&0!=t||dataMgr.isOperateVectory)){if("ONE_POKER_MODE"===dataMgr.gameMode){var o=function(e){for(var t=0;t<e.children.length;t++){for(var o=e.children[t].getComponent("HeartsSolitairePoker"),c=0;c<i.collectionArray.length;c++)if(0==i.collectionArray[c].children.length){if(1==o.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u7a7a\u7684\u53ce\u724c\u533a"),!0}else{var n=i.collectionArray[c].children[i.collectionArray[c].childrenCount-1].getComponent("HeartsSolitairePoker");if(o.flower==n.flower&&o.index==n.index+1)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u53ce\u724c\u533a"),!0}for(var r=0;r<i.pileArray.length;r++)if(0==i.pileArray[r].children.length){if(13==o.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u7a7a\u7684\u73a9\u724c\u533a"),!0}else{var a=i.pileArray[r].children[i.pileArray[r].childrenCount-1].getComponent("HeartsSolitairePoker");if(o.type!=a.type&&o.index+1==a.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u73a9\u724c\u533a"),!0}}},i=this;if(o(this.flip1))return;if(o(this.flip2))return;if(o(this.flip3))return;if(o(this.pile8))return}else{var c=function(e){for(var t=e.length;t>=0&&!(t<3);t-=3){var o=e[t-3];n.push(o)}0!=e.length%3&&0!=e.length&&n.push(e[0])},n=new Array;0!=this.flip1.children.length&&n.push(this.flip1.children[0]),c(this.pile8.children);var r=this.flip3.children.slice().reverse();c(this.pile8.children.concat(this.flip1.children,this.flip2.children,r));var a=this;if(function(e){for(var t=0;t<e.length;t++){for(var o=e[t].getComponent("HeartsSolitairePoker"),i=0;i<a.collectionArray.length;i++)if(0==a.collectionArray[i].children.length){if(1==o.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u7a7a\u7684\u53ce\u724c\u533a"),!0}else{var c=a.collectionArray[i].children[a.collectionArray[i].childrenCount-1].getComponent("HeartsSolitairePoker");if(o.flower==c.flower&&o.index==c.index+1)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u53ce\u724c\u533a"),!0}for(var n=0;n<a.pileArray.length;n++)if(0==a.pileArray[n].children.length){if(13==o.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u7a7a\u7684\u73a9\u724c\u533a"),!0}else{var r=a.pileArray[n].children[a.pileArray[n].childrenCount-1].getComponent("HeartsSolitairePoker");if(o.type!=r.type&&o.index+1==r.index)return console.log("\u624b\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u73a9\u724c\u533a"),!0}}}(n))return}for(var s=0;s<this.pileArray.length;s++)if(0!=this.pileArray[s].children.length)for(var l=this.pileArray[s].children[this.pileArray[s].children.length-1].getComponent("HeartsSolitairePoker"),h=0;h<this.collectionArray.length;h++)if(0==this.collectionArray[h].children.length){if(1==l.index)return console.log("\u73a9\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u7a7a\u7684\u53ce\u724c\u533a"),!0}else{var d=this.collectionArray[h].children[this.collectionArray[h].children.length-1].getComponent("HeartsSolitairePoker");if(l.flower==d.flower&&l.index==d.index+1)return void console.log("\u73a9\u724c\u533a\u6709\u724c\u53ef\u79fb\u52a8\u5230\u53ce\u724c\u533a")}for(var u=new Array,p=0;p<this.pileArray.length;p++)if(0!=this.pileArray[p].childrenCount)for(var g=0;g<this.pileArray[p].childrenCount;g++){var v=this.pileArray[p].children[g],f=v.getComponent("HeartsSolitairePoker");if(f.isTouch)for(var m=0;m<this.pileArray.length;m++)if(this.pileArray[p].name!=this.pileArray[m].name)if(0==this.pileArray[m].childrenCount){if(13==f.index){var M={};M.selectPoker=v,M.matchedPoker=this.pileArray[m],u.push(M)}}else{var k=this.pileArray[m].children[this.pileArray[m].childrenCount-1],A=k.getComponent("HeartsSolitairePoker");if(f.type!=A.type&&f.index+1==A.index){var y={};y.selectPoker=v,y.matchedPoker=k,u.push(y)}}}console.log(u);for(var S=0;S<u.length;S++){var w=u[S].selectPoker;if(0!=w.getSiblingIndex()){var T=w.parent.children[w.getSiblingIndex()-1].getComponent("HeartsSolitairePoker");if(!T.isVisible)return void console.log("\u5ac1\u63a5\u540e\uff0c\u724c\u53ef\u4ee5\u7ffb\u5f00");for(var C=0;C<this.collectionArray.length;C++)if(0!=this.collectionArray[C].children.length){var b=this.collectionArray[C].children[this.collectionArray[C].children.length-1].getComponent("HeartsSolitairePoker");if(T.flower==b.flower&&T.index==b.index+1)return void console.log("\u5ac1\u63a5\u540e\uff0c\u79fb\u52a8\u724c\u7684\u4e0a\u4e00\u5f20\u724c\u53ef\u4ee5\u79fb\u52a8\u5230\u53ce\u724c\u533a")}}else{if("poker"!=u[S].matchedPoker.name)continue;if("ONE_POKER_MODE"===dataMgr.gameMode)for(var P=this.flip1.children.concat(this.flip2.children,this.flip3.children,this.pile8.children),_=0;_<P.length;_++){if(13==P[_].getComponent("HeartsSolitairePoker").index)return void console.log("\u5ac1\u63a5\u540e\uff0c\u624b\u724c\u533a\u6709\u724c\u53ef\u4ee5\u79fb\u52a8\u5230\u7a7a\u4f4d")}else{var B=function(){var t=function(e){for(var t=e.length;t>=0&&!(t<3);t-=3){var i=e[t-3];o.push(i)}0!=e.length%3&&0!=e.length&&o.push(e[0])},o=new Array;0!=e.flip1.children.length&&o.push(e.flip1.children[0]),t(e.pile8.children);var i=e.flip3.children.slice().reverse();t(e.pile8.children.concat(e.flip1.children,e.flip2.children,i));for(var c=0;c<o.length;c++){if(13==o[c].getComponent("HeartsSolitairePoker").index)return console.log("\u5ac1\u63a5\u540e\uff0c\u624b\u724c\u533a\u6709\u724c\u53ef\u4ee5\u79fb\u52a8\u5230\u7a7a\u4f4d"),{v:void 0}}}();if("object"==typeof B)return B.v}for(var N=0;N<this.pileArray.length;N++)for(var R=0;R<this.pileArray[N].children.length;R++){var O=this.pileArray[N].children[R],F=O.getComponent("HeartsSolitairePoker");if(0!=O.getSiblingIndex()&&13==F.index&&F.isVisible&&F.isTouch)return void console.log("\u5ac1\u63a5\u540e\uff0c\u73a9\u724c\u533a\u6709\u724c\u53ef\u4ee5\u79fb\u52a8\u5230\u7a7a\u4f4d\uff0c\u5e76\u4e14\u7ffb\u51fa\u65b0\u724c")}}}this.impasse.active=!0}},autoVectoryMove:function(){this.block.active=!0;var e=this;function t(t,o){dataMgr.curScore+=10,window.audioplayer.play_collect();var i=o.parent.convertToWorldSpaceAR(o.position),c=t.parent.convertToNodeSpaceAR(i);e.touchLayer.playParticle(i,2),t.runAction(cc.sequence(cc.moveTo(.12,cc.v2(c.x,c.y)),cc.callFunc(function(){t.parent=o,t.setPosition(cc.v2(0,0)),e.autoVectoryMove()},e)))}function o(t,o){dataMgr.curScore+=10,window.audioplayer.play_collect();var i=o.parent.convertToWorldSpaceAR(o.position),c=t.parent.convertToNodeSpaceAR(i);e.touchLayer.playParticle(i,2);var n=c.x-t.x,r=c.y-t.y;t.runAction(cc.sequence(cc.spawn(cc.moveBy(.06,cc.v2(n/2,r/2)),cc.scaleTo(.06,0,1)),cc.callFunc(function(){t.getComponent("HeartsSolitairePoker").isVisible=!0,t.getComponent("HeartsSolitairePoker").setTexture()},this),cc.spawn(cc.moveBy(.06,cc.v2(n/2,r/2)),cc.scaleTo(.06,1,1)),cc.callFunc(function(){t.parent=o,t.setPosition(cc.Vec2.ZERO),e.autoVectoryMove()},e)))}if(0!=this.flip1.children.length)for(var i=this.flip1.children.length;i>0;i--)for(var c=0;c<this.collectionArray.length;c++)if(0!=this.collectionArray[c].children.length){var n=this.flip1.children[i-1],r=n.getComponent("HeartsSolitairePoker"),a=this.collectionArray[c].children[this.collectionArray[c].children.length-1].getComponent("HeartsSolitairePoker");if(r.flower==a.flower&&r.index==a.index+1){var s=n.parent.convertToWorldSpaceAR(n.position),l=this.topNode.convertToNodeSpaceAR(s);return n.parent=this.topNode,n.position=l,r.isVisible?void t(n,this.collectionArray[c]):void o(n,this.collectionArray[c])}}else if(0==this.collectionArray[c].children.length){var h=this.flip1.children[i-1],d=h.getComponent("HeartsSolitairePoker");if(1==d.index){var u=h.parent.convertToWorldSpaceAR(h.position),p=this.topNode.convertToNodeSpaceAR(u);return h.parent=this.topNode,h.position=p,d.isVisible?void t(h,this.collectionArray[c]):void o(h,this.collectionArray[c])}}if(0!=this.flip2.children.length)for(var g=this.flip2.children.length;g>0;g--)for(var v=0;v<this.collectionArray.length;v++)if(0!=this.collectionArray[v].children.length){var f=this.flip2.children[g-1],m=f.getComponent("HeartsSolitairePoker"),M=this.collectionArray[v].children[this.collectionArray[v].children.length-1].getComponent("HeartsSolitairePoker");if(m.flower==M.flower&&m.index==M.index+1){var k=f.parent.convertToWorldSpaceAR(f.position),A=this.topNode.convertToNodeSpaceAR(k);return f.parent=this.topNode,f.position=A,m.isVisible?void t(f,this.collectionArray[v]):void o(f,this.collectionArray[v])}}else if(0==this.collectionArray[v].children.length){var y=this.flip2.children[g-1],S=y.getComponent("HeartsSolitairePoker");if(1==S.index){var w=y.parent.convertToWorldSpaceAR(y.position),T=this.topNode.convertToNodeSpaceAR(w);return y.parent=this.topNode,y.position=T,S.isVisible?void t(y,this.collectionArray[v]):void o(y,this.collectionArray[v])}}if(0!=this.flip3.children.length)for(var C=this.flip3.children.length;C>0;C--)for(var b=0;b<this.collectionArray.length;b++)if(0!=this.collectionArray[b].children.length){var P=this.flip3.children[C-1],_=P.getComponent("HeartsSolitairePoker"),B=this.collectionArray[b].children[this.collectionArray[b].children.length-1].getComponent("HeartsSolitairePoker");if(_.flower==B.flower&&_.index==B.index+1){var N=P.parent.convertToWorldSpaceAR(P.position),R=this.topNode.convertToNodeSpaceAR(N);return P.parent=this.topNode,P.position=R,_.isVisible?void t(P,this.collectionArray[b]):void o(P,this.collectionArray[b])}}else if(0==this.collectionArray[b].children.length){var O=this.flip3.children[C-1],F=O.getComponent("HeartsSolitairePoker");if(1==F.index){var x=O.parent.convertToWorldSpaceAR(O.position),H=this.topNode.convertToNodeSpaceAR(x);return O.parent=this.topNode,O.position=H,F.isVisible?void t(O,this.collectionArray[b]):void o(O,this.collectionArray[b])}}if(0!=this.pile8.children.length)for(var I=this.pile8.children.length;I>0;I--)for(var D=0;D<this.collectionArray.length;D++)if(0!=this.collectionArray[D].children.length){var L=this.pile8.children[I-1],E=L.getComponent("HeartsSolitairePoker"),W=this.collectionArray[D].children[this.collectionArray[D].children.length-1].getComponent("HeartsSolitairePoker");if(E.flower==W.flower&&E.index==W.index+1){var V=L.parent.convertToWorldSpaceAR(L.position),G=this.topNode.convertToNodeSpaceAR(V);return L.parent=this.topNode,L.position=G,E.isVisible?void t(L,this.collectionArray[D]):void o(L,this.collectionArray[D])}}else if(0==this.collectionArray[D].children.length){var q=this.pile8.children[I-1],K=q.getComponent("HeartsSolitairePoker");if(1==K.index){var X=q.parent.convertToWorldSpaceAR(q.position),U=this.topNode.convertToNodeSpaceAR(X);return q.parent=this.topNode,q.position=U,K.isVisible?void t(q,this.collectionArray[D]):void o(q,this.collectionArray[D])}}for(var j=0;j<this.pileArray.length;j++)for(var Z=0;Z<this.collectionArray.length;Z++)if(0!=this.pileArray[j].children.length)if(0!=this.collectionArray[Z].children.length){var J=this.pileArray[j].children[this.pileArray[j].children.length-1],Y=J.getComponent("HeartsSolitairePoker"),z=this.collectionArray[Z].children[this.collectionArray[Z].children.length-1].getComponent("HeartsSolitairePoker");if(Y.flower==z.flower&&Y.index==z.index+1){var Q=J.parent.convertToWorldSpaceAR(J.position),$=this.topNode.convertToNodeSpaceAR(Q);return J.parent=this.topNode,J.position=$,Y.isVisible?void t(J,this.collectionArray[Z]):void o(J,this.collectionArray[Z])}}else if(0==this.collectionArray[Z].children.length){var ee=this.pileArray[j].children[this.pileArray[j].children.length-1],te=ee.getComponent("HeartsSolitairePoker");if(1==te.index){var oe=ee.parent.convertToWorldSpaceAR(ee.position),ie=this.topNode.convertToNodeSpaceAR(oe);return ee.parent=this.topNode,ee.position=ie,te.isVisible?void t(ee,this.collectionArray[Z]):void o(ee,this.collectionArray[Z])}}var ce=new Array("pedrail","wave"),ne=Math.floor(2*Math.random());this.scheduleOnce(function(){"pedrail"==ce[ne]?this.endAnimationOne():"wave"==ce[ne]&&this.endAnimationTwo()},.4)},endAnimationOne:function(){this.block.active=!0,dataMgr.isTimeGoesBy=!1,dataMgr.isGameWin=!0,this.schedule(function(){this.animationCount++},1,5);var e=this;function t(t,o,i){for(var c=function(c){var n=t.children[c];n.runAction(cc.sequence(cc.moveTo(1,i),cc.callFunc(function(){var e=n.parent.convertToWorldSpaceAR(n.position),t=o.convertToNodeSpaceAR(e);n.parent=o,n.setPosition(t)},e)))},n=0;n<t.childrenCount;n++)c(n)}for(var o=0;o<this.collectionArray.length;o++){var i=this.collectionArray[o].children[0].getComponent("HeartsSolitairePoker").flower,c=new cc.v2,n=new cc.v2;switch(i){case 1:c=this.canvas.convertToWorldSpaceAR(cc.v2(-180,-268)),n=this.collectionArray[o].convertToNodeSpaceAR(c),t(this.collectionArray[o],this.collection1,n);break;case 2:c=this.canvas.convertToWorldSpaceAR(cc.v2(-180,92)),n=this.collectionArray[o].convertToNodeSpaceAR(c),t(this.collectionArray[o],this.collection2,n);break;case 3:c=this.canvas.convertToWorldSpaceAR(cc.v2(180,92)),n=this.collectionArray[o].convertToNodeSpaceAR(c),t(this.collectionArray[o],this.collection3,n);break;case 4:c=this.canvas.convertToWorldSpaceAR(cc.v2(180,-268)),n=this.collectionArray[o].convertToNodeSpaceAR(c),t(this.collectionArray[o],this.collection4,n)}}this.scheduleOnce(function(){for(var e=0;e<this.collectionArray.length;e++){var t=this.collectionArray[e].children[12],o=t.parent.convertToWorldSpaceAR(t.position),i=this.topNode.convertToNodeSpaceAR(o);t.parent=this.topNode,t.x=i.x,t.y=i.y}},1.1),this.callBack1_count=0,this.callBack2_count=0,this.callBack3_count=0,this.callBack4_count=0,this.callBack1=function(){if(12==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack1_count++;if(25==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack1_count++;if(38==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack1_count++;if(51==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack1_count++;if(64==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack1_count++;if(77==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack1_count++;if(90==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack1_count++;if(103==this.callBack1_count)return this.topNode.children[0].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack1_count++;var e=this.collection1.children[this.callBack1_count%13];this.callBack1_count>=0&&this.callBack1_count<=12?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack1_count>12&&this.callBack1_count<=25?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack1_count>25&&this.callBack1_count<=38?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack1_count>38&&this.callBack1_count<=51?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack1_count>51&&this.callBack1_count<=64?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack1_count>64&&this.callBack1_count<=77?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack1_count>77&&this.callBack1_count<=90?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack1_count>90&&this.callBack1_count<=103&&e.runAction(cc.moveBy(.3,cc.v2(-360,0))),this.callBack1_count++},this.callBack2=function(){if(12==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack2_count++;if(25==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack2_count++;if(38==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack2_count++;if(51==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack2_count++;if(64==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack2_count++;if(77==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack2_count++;if(90==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack2_count++;if(103==this.callBack2_count)return this.topNode.children[1].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack2_count++;var e=this.collection2.children[this.callBack2_count%13];this.callBack2_count>=0&&this.callBack2_count<=12?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack2_count>12&&this.callBack2_count<=25?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack2_count>25&&this.callBack2_count<=38?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack2_count>38&&this.callBack2_count<=51?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack2_count>51&&this.callBack2_count<=64?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack2_count>64&&this.callBack2_count<=77?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack2_count>77&&this.callBack2_count<=90?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack2_count>90&&this.callBack2_count<=103&&e.runAction(cc.moveBy(.3,cc.v2(0,360))),this.callBack2_count++},this.callBack3=function(){if(12==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack3_count++;if(25==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack3_count++;if(38==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack3_count++;if(51==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack3_count++;if(64==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack3_count++;if(77==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack3_count++;if(90==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack3_count++;if(103==this.callBack3_count)return this.topNode.children[2].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack3_count++;var e=this.collection3.children[this.callBack3_count%13];this.callBack3_count>=0&&this.callBack3_count<=12?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack3_count>12&&this.callBack3_count<=25?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack3_count>25&&this.callBack3_count<=38?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack3_count>38&&this.callBack3_count<=51?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack3_count>51&&this.callBack3_count<=64?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack3_count>64&&this.callBack3_count<=77?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack3_count>77&&this.callBack3_count<=90?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack3_count>90&&this.callBack3_count<=103&&e.runAction(cc.moveBy(.3,cc.v2(360,0))),this.callBack3_count++},this.callBack4=function(){if(12==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack4_count++;if(25==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack4_count++;if(38==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack4_count++;if(51==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack4_count++;if(64==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(-360,0))),void this.callBack4_count++;if(77==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(0,360))),void this.callBack4_count++;if(90==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(360,0))),void this.callBack4_count++;if(103==this.callBack4_count)return this.topNode.children[3].runAction(cc.moveBy(.3,cc.v2(0,-360))),void this.callBack4_count++;var e=this.collection4.children[this.callBack4_count%13];this.callBack4_count>=0&&this.callBack4_count<=12?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack4_count>12&&this.callBack4_count<=25?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack4_count>25&&this.callBack4_count<=38?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack4_count>38&&this.callBack4_count<=51?e.runAction(cc.moveBy(.3,cc.v2(0,-360))):this.callBack4_count>51&&this.callBack4_count<=64?e.runAction(cc.moveBy(.3,cc.v2(-360,0))):this.callBack4_count>64&&this.callBack4_count<=77?e.runAction(cc.moveBy(.3,cc.v2(0,360))):this.callBack4_count>77&&this.callBack4_count<=90?e.runAction(cc.moveBy(.3,cc.v2(360,0))):this.callBack4_count>90&&this.callBack4_count<=103&&e.runAction(cc.moveBy(.3,cc.v2(0,-360))),this.callBack4_count++},this.schedule(this.callBack1,.05,103,1.2),this.schedule(this.callBack2,.05,103,1.2),this.schedule(this.callBack3,.05,103,1.2),this.schedule(this.callBack4,.05,103,1.2),this.scheduleOnce(this.settlementShow,6.9),this.scheduleOnce(this.hidePoker,6.9)},endAnimationTwo:function(){this.block.active=!0,dataMgr.isTimeGoesBy=!1,dataMgr.isGameWin=!0,this.schedule(function(){this.animationCount++},1,5),this.callBack1_count=13,this.callBack2_count=13,this.callBack3_count=13,this.callBack4_count=13,this.callBack1=function(){var e=this.collection4.children[this.callBack1_count-1];if(13==this.callBack1_count){var t=e.parent.convertToWorldSpaceAR(e.position),o=this.topNode.convertToNodeSpaceAR(t);e.parent=this.topNode,e.setPosition(o);var i=this.canvas.convertToWorldSpaceAR(cc.v2(0,112)),c=e.parent.convertToNodeSpaceAR(i);e.runAction(cc.spawn(cc.rotateBy(6,3600),cc.moveTo(2,c)))}else if(12==this.callBack1_count){var n=this.canvas.convertToWorldSpaceAR(cc.v2(0,212)),r=e.parent.convertToNodeSpaceAR(n);e.runAction(cc.moveTo(.4,r))}else{var a=this.canvas.convertToWorldSpaceAR(cc.v2(0,-8)),s=e.parent.convertToNodeSpaceAR(a);s.x+=220*Math.sin(7.5*(12-this.callBack1_count)*(Math.PI/180)),s.y+=220*Math.cos(7.5*(12-this.callBack1_count)*(Math.PI/180)),e.runAction(cc.moveTo(.4,s))}this.callBack1_count--},this.callBack2=function(){var e=this.collection3.children[this.callBack2_count-1];if(13==this.callBack2_count){var t=e.parent.convertToWorldSpaceAR(e.position),o=this.topNode.convertToNodeSpaceAR(t);e.parent=this.topNode,e.setPosition(o);var i=this.canvas.convertToWorldSpaceAR(cc.v2(120,-8)),c=e.parent.convertToNodeSpaceAR(i);e.runAction(cc.spawn(cc.rotateBy(6,3600),cc.moveTo(2,c)))}else if(12==this.callBack2_count){var n=this.canvas.convertToWorldSpaceAR(cc.v2(220,-8)),r=e.parent.convertToNodeSpaceAR(n);e.runAction(cc.moveTo(.4,r))}else{var a=this.canvas.convertToWorldSpaceAR(cc.v2(0,-8)),s=e.parent.convertToNodeSpaceAR(a);s.x+=220*Math.cos(7.5*(12-this.callBack2_count)*(Math.PI/180)),s.y-=220*Math.sin(7.5*(12-this.callBack2_count)*(Math.PI/180)),e.runAction(cc.moveTo(.4,s))}this.callBack2_count--},this.callBack3=function(){var e=this.collection2.children[this.callBack3_count-1];if(13==this.callBack3_count){var t=e.parent.convertToWorldSpaceAR(e.position),o=this.topNode.convertToNodeSpaceAR(t);e.parent=this.topNode,e.setPosition(o);var i=this.canvas.convertToWorldSpaceAR(cc.v2(0,-128)),c=e.parent.convertToNodeSpaceAR(i);e.runAction(cc.spawn(cc.rotateBy(6,3600),cc.moveTo(2,c)))}else if(12==this.callBack3_count){var n=this.canvas.convertToWorldSpaceAR(cc.v2(0,-228)),r=e.parent.convertToNodeSpaceAR(n);e.runAction(cc.moveTo(.4,r))}else{var a=this.canvas.convertToWorldSpaceAR(cc.v2(0,-8)),s=e.parent.convertToNodeSpaceAR(a);s.x-=220*Math.sin(7.5*(12-this.callBack3_count)*(Math.PI/180)),s.y-=220*Math.cos(7.5*(12-this.callBack3_count)*(Math.PI/180)),e.runAction(cc.moveTo(.4,s))}this.callBack3_count--},this.callBack4=function(){var e=this.collection1.children[this.callBack4_count-1];if(13==this.callBack4_count){var t=e.parent.convertToWorldSpaceAR(e.position),o=this.topNode.convertToNodeSpaceAR(t);e.parent=this.topNode,e.setPosition(o);var i=this.canvas.convertToWorldSpaceAR(cc.v2(-120,-8)),c=e.parent.convertToNodeSpaceAR(i);e.runAction(cc.spawn(cc.rotateBy(6,3600),cc.moveTo(2,c)))}else if(12==this.callBack4_count){var n=this.canvas.convertToWorldSpaceAR(cc.v2(-220,-8)),r=e.parent.convertToNodeSpaceAR(n);e.runAction(cc.moveTo(.4,r))}else{var a=this.canvas.convertToWorldSpaceAR(cc.v2(0,-8)),s=e.parent.convertToNodeSpaceAR(a);s.x-=220*Math.cos(7.5*(12-this.callBack4_count)*(Math.PI/180)),s.y+=220*Math.sin(7.5*(12-this.callBack4_count)*(Math.PI/180)),e.runAction(cc.moveTo(.4,s))}this.callBack4_count--},this.callBack=function(){function e(e){e.runAction(cc.sequence(cc.rotateBy(.83,150),cc.spawn(cc.rotateBy(1,180),cc.scaleTo(1,1.2)),cc.spawn(cc.rotateBy(1.33,240),cc.scaleTo(1.33,.8)),cc.spawn(cc.rotateBy(1.33,240),cc.scaleTo(.66,1.2)),cc.spawn(cc.rotateBy(1.33,270),cc.scaleTo(1.33,1))))}for(var t=0;t<this.topNode.childrenCount;t++){var o=this.topNode.children[t];o.stopAllActions(),o.runAction(cc.sequence(cc.rotateBy(.83,450),cc.spawn(cc.rotateBy(1,540),cc.scaleTo(1,1.2)),cc.spawn(cc.rotateBy(1.33,720),cc.scaleTo(1.33,.8)),cc.spawn(cc.rotateBy(1.33,720),cc.scaleTo(.66,1.2)),cc.spawn(cc.rotateBy(1.33,810),cc.scaleTo(1.33,1))))}for(var i=0;i<this.collection4.childrenCount;i++){var c=this.collection4.children[i];c.stopAllActions(),e(c)}for(var n=0;n<this.collection3.childrenCount;n++){var r=this.collection3.children[n];r.stopAllActions(),e(r)}for(var a=0;a<this.collection2.childrenCount;a++){var s=this.collection2.children[a];s.stopAllActions(),e(s)}for(var l=0;l<this.collection1.childrenCount;l++){var h=this.collection1.children[l];h.stopAllActions(),e(h)}},this.schedule(this.callBack1,.05,12),this.schedule(this.callBack2,.05,12,.6),this.schedule(this.callBack3,.05,12,1.2),this.schedule(this.callBack4,.05,12,1.8),this.scheduleOnce(this.callBack,4),this.scheduleOnce(this.settlementShow,9.6),this.scheduleOnce(this.hidePoker,9.6)},preSettleMent:function(){this.unschedule(this.settlementShow),this.unschedule(this.hidePoker),this.settlementShow(),this.hidePoker()},settlementShow:function(){this.settlement.active=!0},hidePoker:function(){for(var e=0;e<this.entireArray.length;e++)for(var t=0;t<this.entireArray[e].children.length;t++){this.entireArray[e].children[t].active=!1}for(var o=0;o<this.topNode.children.length;o++){this.topNode.children[o].active=!1}},tips:function(){if(window.audioplayer.play_tips(),this.autoTipsTimeCount=0,this.fullScreenCount_tips++,console.log("\u5e7f\u544a\u63d0\u793a\u6b21\u6570"+this.fullScreenCount_tips),this.fullScreenCount_tips%5==0&&(console.log("\u63d0\u793a\u6b21\u6570\u6ee15\u6b21\uff0c\u64ad\u653e\u5168\u5c4f\u5e7f\u544a"),window.showFullScreen(100)),0!=window.tipsPokerArray.length){if(!dataMgr.tipsMove)return this.hideTips(),this.tipsCount++,this.tipsCount>window.tipsPokerArray.length-1&&(this.tipsCount=0),void this.showTips();window.tipsPokerArray=[],dataMgr.tipsMove=!1,this.tipsCount=0}else dataMgr.tipsMove&&(window.tipsPokerArray=[],dataMgr.tipsMove=!1,this.tipsCount=0);this.tipsArray=this.pileArray.concat(this.flipArray);for(var e=0;e<this.tipsArray.length;e++){var t=this.tipsArray[e].children[this.tipsArray[e].childrenCount-1];if(void 0!=t){var o=t.getComponent("HeartsSolitairePoker");if(o.isTouch)for(var i=0;i<this.collectionArray.length;i++)if(0==this.collectionArray[i].childrenCount){if(1==o.index){var c={};c.selectPoker=t,c.matchedPoker=this.collectionArray[i],window.tipsPokerArray.push(c)}}else{var n=this.collectionArray[i].children[this.collectionArray[i].childrenCount-1],r=n.getComponent("HeartsSolitairePoker");if(o.flower==r.flower&&o.index==r.index+1){var a={};a.selectPoker=t,a.matchedPoker=n,window.tipsPokerArray.push(a)}}}}for(var s=0;s<this.tipsArray.length;s++)if(0!=this.tipsArray[s].childrenCount)for(var l=0;l<this.tipsArray[s].childrenCount;l++){var h=this.tipsArray[s].children[l],d=h.getComponent("HeartsSolitairePoker");if(d.isTouch)for(var u=0;u<this.pileArray.length;u++)if(this.tipsArray[s].name!=this.pileArray[u].name)if(0==this.pileArray[u].childrenCount){if(13==d.index){var p={};p.selectPoker=h,p.matchedPoker=this.pileArray[u],window.tipsPokerArray.push(p)}}else{var g=this.pileArray[u].children[this.pileArray[u].childrenCount-1],v=g.getComponent("HeartsSolitairePoker");if(d.type!=v.type&&d.index+1==v.index){var f={};f.selectPoker=h,f.matchedPoker=g,window.tipsPokerArray.push(f)}}}if(console.log(window.tipsPokerArray),0!=window.tipsPokerArray.length)this.showTips();else{for(var m=0;m<this.node.childrenCount;m++){var M=this.node.children[m];"tips"==M.name&&M.destroy()}if(0!=this.pile8.children.length){var k=cc.instantiate(this.tips_prefab);this.node.addChild(k),k.setPosition(this.pile8),console.log("\u7ffb\u724c")}else console.log("\u63d0\u793a\uff0c\u65e0\u6709\u6548\u79fb\u52a8")}},showTips:function(){if(0!=window.tipsPokerArray.length){var e=window.tipsPokerArray[this.tipsCount].selectPoker,t=window.tipsPokerArray[this.tipsCount].matchedPoker;if("poker"==t.name){t.getChildByName("tipsBorder").active=!0;for(var o=e.getSiblingIndex();o<e.parent.childrenCount;o++){e.parent.children[o].getChildByName("tipsBorder").active=!0}}else{var i=cc.instantiate(this.tips_prefab);this.node.addChild(i),i.setPosition(t.position);for(var c=e.getSiblingIndex();c<e.parent.childrenCount;c++){e.parent.children[c].getChildByName("tipsBorder").active=!0}}}},hideTips:function(){for(var e=0;e<this.node.childrenCount;e++){var t=this.node.children[e];"tips"==t.name&&t.destroy()}if(0!=window.tipsPokerArray.length){var o=window.tipsPokerArray[this.tipsCount].selectPoker,i=window.tipsPokerArray[this.tipsCount].matchedPoker;if("poker"==i.name){i.getChildByName("tipsBorder").active=!1;for(var c=o.getSiblingIndex();c<o.parent.childrenCount;c++){o.parent.children[c].getChildByName("tipsBorder").active=!1}}else for(var n=o.getSiblingIndex();n<o.parent.childrenCount;n++){o.parent.children[n].getChildByName("tipsBorder").active=!1}}},undo:function(){if(0!=window.undoPokerArray.length){window.audioplayer.play_undo(),this.autoTipsTimeCount=0,this.resetPoker.resetCount=0,this.fullScreenCount_undo++,console.log("\u5e7f\u544a\u64a4\u9500\u6b21\u6570"+this.fullScreenCount_undo),this.fullScreenCount_undo%5==0&&(console.log("\u64a4\u9500\u6b21\u6570\u6ee15\u6b21\uff0c\u64ad\u653e\u5168\u5c4f\u5e7f\u544a"),window.showFullScreen(100)),this.block.active=!0,this.impasse.active=!1,this.hideTips();var e=window.undoPokerArray.pop();if("movePoker"===e.type){var t=!1;"collection1"!==e.selectPokerArray[0].parent.name&&"collection2"!==e.selectPokerArray[0].parent.name&&"collection3"!==e.selectPokerArray[0].parent.name&&"collection4"!==e.selectPokerArray[0].parent.name||(t=!0),this.undoSelectPoker(e),null==e.visiblePoker||void 0==e.visiblePoker?"flip1"===e.selectPokerNodeArray[0].name||"flip2"===e.selectPokerNodeArray[0].name||"flip3"===e.selectPokerNodeArray[0].name?this.scheduleOnce(function(){dataMgr.curScore-=t?10:5,this.unmatchPoker(e)},.1):this.scheduleOnce(function(){"collection1"===e.selectPokerNodeArray[0].name||"collection2"===e.selectPokerNodeArray[0].name||"collection3"===e.selectPokerNodeArray[0].name||"collection4"===e.selectPokerNodeArray[0].name?t||(dataMgr.curScore+=10):t&&(dataMgr.curScore-=10),this.undoMove(e)},.1):this.scheduleOnce(function(){dataMgr.curScore-=5,t&&(dataMgr.curScore-=10),this.unVisiblePoker(e)},.1)}else"flipOnePoker"===e.type?this.unFlip(e):"flipThreePoker"===e.type?this.unFlip(e):"resetPoker"===e.type&&this.unResetPoker(e)}},undoSelectPoker:function(e){for(var t=0;t<e.selectPokerArray.length;t++){var o=e.selectPokerArray[t],i=o.parent.convertToWorldSpaceAR(o.position),c=this.topNode.convertToNodeSpaceAR(i);o.parent=this.topNode,o.x=c.x,o.y=c.y,this.pokerUp(o)}},undoMove:function(e){var t=this,o=0;this.schedule(function(){var i=e.selectPokerArray[o],c=e.selectPokerPosArray[o],n=e.selectPokerNodeArray[o],r=n.convertToWorldSpaceAR(c),a=this.topNode.convertToNodeSpaceAR(r);i.runAction(cc.sequence(cc.moveTo(.1,cc.v2(a.x,a.y)),cc.callFunc(function(){if(i.parent=n,i.x=c.x,i.y=c.y,0==this.topNode.children.length)for(var o=0;o<e.selectPokerArray.length;o++){var r=e.selectPokerArray[o];t.pokerDown(r)}},t))),o++},.02,e.selectPokerArray.length-1)},unmatchPoker:function(e){function t(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.sequence(cc.moveTo(.07,cc.v2(i.x,i.y)),cc.callFunc(function(){e.parent=t,e.setPosition(cc.v2(0,0))},this)))}0!=this.flip1.childrenCount?0!=this.flip2.childrenCount?(t(this.flip2.children[0],this.flip3),t(this.flip1.children[0],this.flip2),this.undoMove(e)):(t(this.flip1.children[0],this.flip2),this.undoMove(e)):this.undoMove(e)},unVisiblePoker:function(e){var t=e.visiblePoker,o=t.getComponent("HeartsSolitairePoker");t.runAction(cc.sequence(cc.scaleTo(.1,0,1),cc.callFunc(function(){o.isVisible=!1,o.isTouch=!1,o.setTexture()},this),cc.scaleTo(.1,1,1),cc.callFunc(function(){this.undoMove(e)},this)))},unFlip:function(e){var t=this;function o(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.sequence(cc.moveTo(.18,cc.v2(i.x,i.y)),cc.callFunc(function(){e.parent=t,e.x=0,e.y=0},this)))}function i(e,o){var i=e.parent.convertToWorldSpaceAR(e.position),c=t.topNode.convertToNodeSpaceAR(i);e.parent=t.topNode,e.x=c.x,e.y=c.y;var n=o.parent.convertToWorldSpaceAR(o.position),r=e.parent.convertToNodeSpaceAR(n),a=r.x-e.x,s=r.y-e.y;e.runAction(cc.sequence(cc.spawn(cc.moveBy(.1,cc.v2(.25*a,.25*s)),cc.scaleTo(.1,0,1)),cc.callFunc(function(){e.getComponent("HeartsSolitairePoker").isVisible=!1,e.getComponent("HeartsSolitairePoker").isFlip=!0,e.getComponent("HeartsSolitairePoker").setTexture()},t),cc.spawn(cc.moveBy(.1,cc.v2(.75*a,.75*s)),cc.scaleTo(.1,1,1)),cc.callFunc(function(){e.parent=o,e.x=0,e.y=0,e.getComponent("HeartsSolitairePoker").isTouch=!1,t.block.active=!1},t)))}if(1==e.selectPokerArray.length){var c=e.selectPokerArray[e.selectPokerArray.length-1],n=e.selectPokerNodeArray[e.selectPokerNodeArray.length-1];0==this.flip2.childrenCount?i(c,n):0==this.flip3.childrenCount?(o(this.flip2.children[this.flip2.childrenCount-1],this.flip1),i(c,n)):(o(this.flip2.children[this.flip2.childrenCount-1],this.flip1),o(this.flip3.children[this.flip3.childrenCount-1],this.flip2),i(c,n))}else if(2==e.selectPokerArray.length){for(var r=1;r<3;r++){i(e.selectPokerArray[e.selectPokerArray.length-r],e.selectPokerNodeArray[e.selectPokerNodeArray.length-r])}this.scheduleOnce(function(){if(this.flip3.childrenCount>=2){var e=this.flip3.children[this.flip3.childrenCount-1],t=this.flip3.children[this.flip3.childrenCount-2];o(e,this.flip1),o(t,this.flip2)}else if(1==this.flip3.childrenCount){o(this.flip3.children[this.flip3.childrenCount-1],this.flip1)}},.08)}else if(3==e.selectPokerArray.length){for(var a=1;a<4;a++){i(e.selectPokerArray[e.selectPokerArray.length-a],e.selectPokerNodeArray[e.selectPokerNodeArray.length-a])}this.scheduleOnce(function(){if(this.flip3.childrenCount>=3){var e=this.flip3.children[this.flip3.childrenCount-1],t=this.flip3.children[this.flip3.childrenCount-2],i=this.flip3.children[this.flip3.childrenCount-3];o(e,this.flip1),o(t,this.flip2),o(i,this.flip3)}else if(2==this.flip3.childrenCount){var c=this.flip3.children[this.flip3.childrenCount-1],n=this.flip3.children[this.flip3.childrenCount-2];o(c,this.flip1),o(n,this.flip2)}else if(1==this.flip3.childrenCount){o(this.flip3.children[this.flip3.childrenCount-1],this.flip1)}},.08)}},unResetPoker:function(e){var t=this;function o(e){var o=cc.v2(0,0);if(0==e){o=dataMgr.leftHand?cc.v2(45,0):cc.v2(-45,0);var i=t.pile8.children[e];i.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){i.getComponent("HeartsSolitairePoker").isVisible=!0,i.getComponent("HeartsSolitairePoker").isFlip=!1,i.getComponent("HeartsSolitairePoker").setTexture();var e=i.parent.convertToWorldSpaceAR(i.position),o=t.topNode.convertToNodeSpaceAR(e);i.parent=t.topNode,i.x=o.x,i.y=o.y},t),cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,1,1)),cc.callFunc(function(){i.parent=t.flip1,i.x=0,i.y=0,i.getComponent("HeartsSolitairePoker").isTouch=!0},t)))}else if(1==e){o=dataMgr.leftHand?cc.v2(67.5,0):cc.v2(-67.5,0);var c=t.pile8.children[e];c.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){c.getComponent("HeartsSolitairePoker").isVisible=!0,c.getComponent("HeartsSolitairePoker").isFlip=!1,c.getComponent("HeartsSolitairePoker").setTexture();var e=c.parent.convertToWorldSpaceAR(c.position),o=t.topNode.convertToNodeSpaceAR(e);c.parent=t.topNode,c.x=o.x,c.y=o.y},t),cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,1,1)),cc.callFunc(function(){c.parent=t.flip2,c.x=0,c.y=0,c.getComponent("HeartsSolitairePoker").isTouch=!0},t)))}else{o=dataMgr.leftHand?cc.v2(90,0):cc.v2(-90,0);var n=t.pile8.children[e];n.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){n.getComponent("HeartsSolitairePoker").isVisible=!0,n.getComponent("HeartsSolitairePoker").isFlip=!1,n.getComponent("HeartsSolitairePoker").setTexture();var e=n.parent.convertToWorldSpaceAR(n.position),o=t.topNode.convertToNodeSpaceAR(e);n.parent=t.topNode,n.x=o.x,n.y=o.y},t),cc.spawn(cc.moveBy(.075,o),cc.scaleTo(.075,1,1)),cc.callFunc(function(){n.parent=t.flip3,n.x=0,n.y=0,n.getComponent("HeartsSolitairePoker").isTouch=!0},t)))}}var i=this.pile8.children.length-1;this.schedule(function(){if(o(i),-1==--i){var e=this;this.scheduleOnce(function(){e.block.active=!1},.25)}},.01,this.pile8.children.length-1)},pokerUp:function(e){var t=e.getChildByName("selectBorder"),o=e.getChildByName("shadow"),i=e.getChildByName("pokerSprite");t.active=!0,t.runAction(cc.moveBy(.2,cc.v2(0,5))),i.runAction(cc.moveBy(.2,cc.v2(0,5))),o.runAction(cc.moveBy(.2,cc.v2(10,-15)))},pokerDown:function(e){var t=e.getChildByName("selectBorder"),o=e.getChildByName("shadow"),i=e.getChildByName("pokerSprite");t.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,-5)),cc.callFunc(function(){t.active=!1,this.block.active=!1},this))),i.runAction(cc.moveBy(.2,cc.v2(0,-5))),o.runAction(cc.moveBy(.2,cc.v2(-10,15)))},leftHand:function(){for(var e=0;e<this.entireArray.length;e++){this.entireArray[e].x*=-1}},leftHandState:function(){dataMgr.leftHand?(this.collection1.x=270,this.collection2.x=180,this.collection3.x=90,this.collection4.x=0,this.flip1.x=-180,this.flip2.x=-135,this.flip3.x=-90,this.pile1.x=270,this.pile2.x=180,this.pile3.x=90,this.pile4.x=0,this.pile5.x=-90,this.pile6.x=-180,this.pile7.x=-270,this.pile8.x=-270):(this.collection1.x=-270,this.collection2.x=-180,this.collection3.x=-90,this.collection4.x=0,this.flip1.x=180,this.flip2.x=135,this.flip3.x=90,this.pile1.x=-270,this.pile2.x=-180,this.pile3.x=-90,this.pile4.x=0,this.pile5.x=90,this.pile6.x=180,this.pile7.x=270,this.pile8.x=270)},newGameSettleMent:function(){dataMgr.totalTime+=dataMgr.curTime,dataMgr.setItem("totalTime",dataMgr.totalTime),window.gameCenter.gameCenter(ID_COLLECTION.RANK.GAME_TIME,dataMgr.totalTime),console.log("\u6e38\u620f\u603b\u65f6\u95f4"+dataMgr.totalTime),"ONE_POKER_MODE"===dataMgr.gameMode?(dataMgr.failStreakCountModeOne++,dataMgr.setItem("failStreakCountModeOne",dataMgr.failStreakCountModeOne),console.log("\u5f53\u524d\u4e00\u5f20\u724c\u8fde\u8d25\u5c40\u6570"+dataMgr.failStreakCountModeOne),dataMgr.winStreakCountModeOne=0,dataMgr.setItem("winStreakCountModeOne",dataMgr.winStreakCountModeOne),console.log("\u4e00\u5f20\u724c\u8fde\u80dc\u91cd\u7f6e\u4e3a "+dataMgr.winStreakCountModeOne),dataMgr.failStreakCountModeOne>dataMgr.bestFailStreakCountModeOne&&(console.log("\u5237\u65b0\u4e00\u5f20\u724c\u6700\u9ad8\u8fde\u8d25"),dataMgr.bestFailStreakCountModeOne=dataMgr.failStreakCountModeOne,dataMgr.setItem("bestFailStreakCountModeOne",dataMgr.bestFailStreakCountModeOne)),dataMgr.curScore>dataMgr.bestScoreModeOne&&(dataMgr.bestScoreModeOne=dataMgr.curScore,dataMgr.setItem("bestScoreModeOne",dataMgr.bestScoreModeOne),console.log("\u5237\u65b0\u4e00\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_ONE,dataMgr.bestScoreModeOne)),dataMgr.gameCountModeOne++,dataMgr.setItem("gameCountModeOne",dataMgr.gameCountModeOne),console.log("\u4e00\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeOne)):(dataMgr.failStreakCountModeThree++,dataMgr.setItem("failStreakCountModeThree",dataMgr.failStreakCountModeThree),console.log("\u5f53\u524d\u4e09\u5f20\u724c\u8fde\u8d25\u5c40\u6570"+dataMgr.failStreakCountModeThree),dataMgr.winStreakCountModeThree=0,dataMgr.setItem("winStreakCountModeThree",dataMgr.winStreakCountModeThree),console.log("\u4e09\u5f20\u724c\u8fde\u80dc\u91cd\u7f6e\u4e3a "+dataMgr.winStreakCountModeThree),dataMgr.failStreakCountModeThree>dataMgr.bestFailStreakCountModeThree&&(console.log("\u5237\u65b0\u4e09\u5f20\u724c\u6700\u9ad8\u8fde\u8d25"),dataMgr.bestFailStreakCountModeThree=dataMgr.failStreakCountModeThree,dataMgr.setItem("bestFailStreakCountModeThree",dataMgr.bestFailStreakCountModeThree)),dataMgr.curScore>dataMgr.bestScoreModeThree&&(dataMgr.bestScoreModeThree=dataMgr.curScore,dataMgr.setItem("bestScoreModeThree",dataMgr.bestScoreModeThree),console.log("\u5237\u65b0\u4e09\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_THREE,dataMgr.bestScoreModeThree)),dataMgr.gameCountModeThree++,dataMgr.setItem("gameCountModeThree",dataMgr.gameCountModeThree),console.log("\u4e09\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeThree))},update:function(e){this.block.active||this.autoTipsTimeCount++,this.autoTipsTimeCount>=1800&&!this.block.active&&dataMgr.isTimeGoesBy&&(console.log("30\u79d2\u672a\u64cd\u4f5c\u81ea\u52a8\u63d0\u793a"),this.tips(),this.autoTipsTimeCount=0)}}),cc._RF.pop()},{}],HeartsSolitairePoker:[function(e,t,o){"use strict";cc._RF.push(t,"86d64jFiAtMh6tmZn32kl95","HeartsSolitairePoker"),cc.Class({extends:cc.Component,properties:{id:0,index:0,flower:0,type:"",isTouch:!1,isVisible:!1,isFlip:!1,back:cc.SpriteFrame,spriteFrameArray:[cc.SpriteFrame]},onLoad:function(){this.init(),this.touchEvent()},start:function(){},init:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.collection1=this.pokerManager.collection1,this.collection2=this.pokerManager.collection2,this.collection3=this.pokerManager.collection3,this.collection4=this.pokerManager.collection4,this.flip1=this.pokerManager.flip1,this.flip2=this.pokerManager.flip2,this.flip3=this.pokerManager.flip3,this.pile1=this.pokerManager.pile1,this.pile2=this.pokerManager.pile2,this.pile3=this.pokerManager.pile3,this.pile4=this.pokerManager.pile4,this.pile5=this.pokerManager.pile5,this.pile6=this.pokerManager.pile6,this.pile7=this.pokerManager.pile7,this.pile8=this.pokerManager.pile8,this.collectionArray=this.pokerManager.collectionArray,this.flipArray=this.pokerManager.flipArray,this.pileArray=this.pokerManager.pileArray,this.entireArray=this.pokerManager.entireArray,this.resetPoker=cc.find("Canvas/baseView/pokerManager/pile8").getComponent("HeartsSolitaireResetPoker"),this.touchLayer=cc.find("Canvas/baseView/backGround/touchLayer").getComponent("HeartsSolitaireTouchLayer"),this.topNode=this.pokerManager.node.getChildByName("topNode"),this.block=this.pokerManager.node.parent.getChildByName("block"),this.startPos=new cc.v2,this.endPos=new cc.v2,this.isMove=!1,this.isShrink=!1,this.isSuccess=!1},touchEvent:function(){this.node.on("touchstart",this.touchstart,this),this.node.on("touchmove",this.touchmove,this),this.node.on("touchend",this.touchend,this),this.node.on("touchcancel",this.touchcancel,this)},touchstart:function(e){0==e.touch._id&&this.isTouch&&(this.pokerManager.autoTipsTimeCount=0,dataMgr.tipsMove=!0,this.pokerManager.hideTips(),dataMgr.touchStart=!0,this.startPos=e.getLocation(),this.selectPoker())},touchmove:function(e){if(0==e.touch._id&&this.isTouch){this.pokerManager.autoTipsTimeCount=0,this.endPos=e.getLocation(),this.getDistance(this.endPos,this.startPos)>5&&(this.isMove=!0,this.pokerShrink(selectPokerArray.length));var t=e.touch.getDelta();this.topNode.x+=t.x,this.topNode.y+=t.y}},touchend:function(e){0==e.touch._id&&(this.isTouch&&dataMgr.touchStart?(this.pokerManager.autoTipsTimeCount=0,this.isMove?this.attachMent():this.clickMent()):this.isFlip&&(this.pokerManager.autoTipsTimeCount=0,dataMgr.tipsMove=!0,this.pokerManager.hideTips(),window.audioplayer.play_flip(),"ONE_POKER_MODE"===dataMgr.gameMode?this.flipModeOne():this.flipModeThree()),this.isMove=!1,this.isShrink=!1,dataMgr.touchStart=!1)},touchcancel:function(e){0==e.touch._id&&dataMgr.touchStart&&(this.return(),window.selectPokerArray=[],window.selectPokerPosArray=[],window.selectPokerNodeArray=[],this.isMove=!1,this.isShrink=!1,dataMgr.touchStart=!1)},selectPoker:function(){window.audioplayer.play_pokerUp();var e=this.node.getSiblingIndex();console.log("\u6240\u9009\u724c\u5728\u5f53\u524d\u8282\u70b9\u7d22\u5f15"+e);for(var t=this.node.parent,o=t.children.length,i=e;i<o;i++){var c=t.children[e];window.selectPokerArray.push(c),window.selectPokerPosArray.push(c.position),window.selectPokerNodeArray.push(c.parent);var n=c.parent.convertToWorldSpaceAR(c.position),r=this.topNode.convertToNodeSpaceAR(n);c.parent=this.topNode,c.x=r.x,c.y=r.y,this.pokerUp(c)}console.log("\u9009\u724c\u6570\u7ec4\u957f\u5ea6"+selectPokerArray.length),console.log("\u9009\u724c\u5750\u6807\u6570\u7ec4\u957f\u5ea6"+selectPokerPosArray.length),console.log("\u9009\u724c\u8282\u70b9\u6570\u7ec4\u957f\u5ea6"+selectPokerNodeArray.length)},attachMent:function(){this.block.active=!0;for(var e=0;e<this.collectionArray.length;e++){var t=selectPokerNodeArray[0];if(t.name!=this.collectionArray[e].name){var o=this.collectionArray[e].parent.convertToWorldSpaceAR(this.collectionArray[e].position),i=this.node.parent.convertToWorldSpaceAR(this.node.position),c=this.getDistance(o,i);if(0==this.collectionArray[e].childrenCount){if(1==this.index&&c<100&&1==selectPokerArray.length)return this.saveUndoPokerArray("movePoker"),this.scoreCalculate("collect",t),window.audioplayer.play_collect(),this.touchLayer.playParticle(o,2),this.resetPoker.resetCount=0,this.node.parent=this.collectionArray[e],this.node.setPosition(cc.v2(0,0)),this.matchMove(),this.pokerDown(this.node),this.visiblePoker(t),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22),selectPokerArray=[],selectPokerPosArray=[],void(selectPokerNodeArray=[])}else{var n=this.collectionArray[e].children[this.collectionArray[e].childrenCount-1].getComponent("HeartsSolitairePoker");if(this.flower==n.flower&&this.index==n.index+1&&c<100&&1==selectPokerArray.length)return this.saveUndoPokerArray("movePoker"),this.scoreCalculate("collect",t),window.audioplayer.play_collect(),this.touchLayer.playParticle(o,2),this.resetPoker.resetCount=0,this.node.parent=this.collectionArray[e],this.node.setPosition(cc.v2(0,0)),this.matchMove(),this.pokerDown(this.node),this.visiblePoker(t),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22),selectPokerArray=[],selectPokerPosArray=[],void(selectPokerNodeArray=[])}}}for(var r=0;r<this.pileArray.length;r++){var a=selectPokerNodeArray[0];if(a.name!=this.pileArray[r].name)if(0==this.pileArray[r].childrenCount){var s=this.pileArray[r].parent.convertToWorldSpaceAR(this.pileArray[r].position),l=this.node.parent.convertToWorldSpaceAR(this.node.position),h=this.getDistance(s,l);if(13==this.index&&h<100){this.saveUndoPokerArray("movePoker"),this.scoreCalculate("move",a),window.audioplayer.play_K(),this.resetPoker.resetCount=0;for(var d=0;d<selectPokerArray.length;d++){var u=selectPokerArray[d];u.stopAllActions(),u.parent=this.pileArray[r],u.x=0,u.y=40*-(this.pileArray[r].childrenCount-1),this.pokerDown(u)}return this.matchMove(),this.visiblePoker(a),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22),selectPokerArray=[],selectPokerPosArray=[],void(selectPokerNodeArray=[])}}else{var p=this.pileArray[r].children[this.pileArray[r].childrenCount-1],g=p.getComponent("HeartsSolitairePoker"),v=p.parent.convertToWorldSpaceAR(p.position),f=this.node.parent.convertToWorldSpaceAR(this.node.position),m=this.getDistance(v,f);if(this.type!=g.type&&this.index+1==g.index&&m<100){this.saveUndoPokerArray("movePoker"),this.scoreCalculate("move",a),window.audioplayer.play_pokerDown(),this.resetPoker.resetCount=0;for(var M=0;M<selectPokerArray.length;M++){var k=selectPokerArray[M];k.stopAllActions(),k.parent=this.pileArray[r],k.x=0,k.y=p.y-40*(M+1),this.pokerDown(k)}return this.matchMove(),this.visiblePoker(a),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22),selectPokerArray=[],selectPokerPosArray=[],void(selectPokerNodeArray=[])}}}this.return(),selectPokerArray=[],selectPokerPosArray=[],selectPokerNodeArray=[]},clickMent:function(){var e=this;this.block.active=!0;for(var t=function(t){var o=window.selectPokerNodeArray[0];if(o.name==e.collectionArray[t].name)return"continue";if(0==e.collectionArray[t].childrenCount){if(1==e.index&&1==window.selectPokerArray.length){e.saveUndoPokerArray("movePoker"),e.scoreCalculate("collect",o),window.audioplayer.play_collect(),e.resetPoker.resetCount=0;var i=e.collectionArray[t].parent.convertToWorldSpaceAR(e.collectionArray[t].position),c=e.topNode.convertToNodeSpaceAR(i);return e.touchLayer.playParticle(i,2),e.node.runAction(cc.sequence(cc.moveTo(.1,cc.v2(c.x,c.y)),cc.callFunc(function(){this.node.parent=this.collectionArray[t],this.node.setPosition(cc.v2(0,0)),this.matchMove(),this.pokerDown(this.node),this.visiblePoker(o),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22)},e))),window.selectPokerNodeArray=[],window.selectPokerPosArray=[],window.selectPokerArray=[],{v:void 0}}}else{var n=e.collectionArray[t].children[e.collectionArray[t].childrenCount-1].getComponent("HeartsSolitairePoker");if(e.flower==n.flower&&e.index==n.index+1&&1==window.selectPokerArray.length){e.saveUndoPokerArray("movePoker"),e.scoreCalculate("collect",o),window.audioplayer.play_collect(),e.resetPoker.resetCount=0;var r=e.collectionArray[t].parent.convertToWorldSpaceAR(e.collectionArray[t].position),a=e.topNode.convertToNodeSpaceAR(r);return e.touchLayer.playParticle(r,2),e.node.runAction(cc.sequence(cc.moveTo(.1,cc.v2(a.x,a.y)),cc.callFunc(function(){this.node.parent=this.collectionArray[t],this.node.setPosition(cc.v2(0,0)),this.matchMove(),this.pokerDown(this.node),this.visiblePoker(o),this.scheduleOnce(function(){this.pokerManager.vectoryJudge()},.22),this.scheduleOnce(function(){this.pokerManager.impasseJudge()},.22)},e))),window.selectPokerNodeArray=[],window.selectPokerPosArray=[],window.selectPokerArray=[],{v:void 0}}}},o=0;o<this.collectionArray.length;o++){var i=t(o);switch(i){case"continue":continue;default:if("object"==typeof i)return i.v}}for(var c=function(t){var o=window.selectPokerNodeArray[0];if(o.name==e.pileArray[t].name)return"continue";if(e.isSuccess)return e.isSuccess=!1,{v:void 0};if(0==e.pileArray[t].childrenCount){if(13==e.index){e.saveUndoPokerArray("movePoker"),e.scoreCalculate("move",o),window.audioplayer.play_K(),e.resetPoker.resetCount=0,e.isSuccess=!0;var i=e.pileArray[t].parent.convertToWorldSpaceAR(e.pileArray[t].position),c=e.topNode.convertToNodeSpaceAR(i),n=0,r=e;e.schedule(function(){var e=window.selectPokerArray[n];e.runAction(cc.sequence(cc.moveTo(.1,cc.v2(c.x,c.y-40*n)),cc.callFunc(function(){if(r.pileArray[t].children[r.pileArray[t].children.length-1]){var i=r.pileArray[t].children[r.pileArray[t].children.length-1].position;e.parent=r.pileArray[t],e.x=0,e.y=i.y-40}else e.parent=r.pileArray[t],e.x=0,e.y=0;if(0==this.topNode.children.length){for(var c=0;c<window.selectPokerArray.length;c++){var n=window.selectPokerArray[c];r.pokerDown(n)}return r.matchMove(),r.visiblePoker(o),r.scheduleOnce(function(){r.pokerManager.vectoryJudge()},.22),r.scheduleOnce(function(){r.pokerManager.impasseJudge()},.22),window.selectPokerNodeArray=[],window.selectPokerPosArray=[],void(window.selectPokerArray=[])}},r))),n++},.02,window.selectPokerArray.length-1)}}else{var a=e.pileArray[t].children[e.pileArray[t].childrenCount-1],s=a.getComponent("HeartsSolitairePoker");if(e.type!=s.type&&e.index+1==s.index){e.saveUndoPokerArray("movePoker"),e.scoreCalculate("move",o),window.audioplayer.play_move(),e.resetPoker.resetCount=0,e.isSuccess=!0;var l=0,h=e;e.schedule(function(){var e=window.selectPokerArray[l],i=a.parent.convertToWorldSpaceAR(a.position),c=h.topNode.convertToNodeSpaceAR(i);e.runAction(cc.sequence(cc.moveTo(.1,cc.v2(c.x,c.y-40*(l+1))),cc.callFunc(function(){var i=h.pileArray[t].children[h.pileArray[t].children.length-1].position;if(e.parent=h.pileArray[t],e.x=0,e.y=i.y-40,0==this.topNode.children.length){for(var c=0;c<window.selectPokerArray.length;c++){var n=window.selectPokerArray[c];h.pokerDown(n)}return h.matchMove(),h.visiblePoker(o),h.scheduleOnce(function(){h.pokerManager.vectoryJudge()},.22),h.scheduleOnce(function(){h.pokerManager.impasseJudge()},.22),window.audioplayer.play_pokerDown(),window.selectPokerNodeArray=[],window.selectPokerPosArray=[],void(window.selectPokerArray=[])}},h))),l++},.02,window.selectPokerArray.length-1)}}},n=0;n<this.pileArray.length;n++){var r=c(n);switch(r){case"continue":continue;default:if("object"==typeof r)return r.v}}this.isSuccess?this.isSuccess=!1:(this.shake(),window.selectPokerArray=[],window.selectPokerPosArray=[],window.selectPokerNodeArray=[])},flipModeOne:function(){function e(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.sequence(cc.moveTo(.1,cc.v2(i.x,i.y)),cc.callFunc(function(){e.parent=t,e.setPosition(cc.v2(0,0))},this)))}this.block.active=!0;var t=this;this.saveUndoPokerArray("flipOnePoker",function(){var e=new Array;return e.push(t.node),e},t),0!=this.flip1.childrenCount?0!=this.flip2.childrenCount?(e(this.flip2.children[0],this.flip3),e(this.flip1.children[0],this.flip2),dataMgr.leftHand?this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=1},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=0,this.node.skewY=30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this))):this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=0},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=1,this.node.skewY=-30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this)))):(e(this.flip1.children[0],this.flip2),dataMgr.leftHand?this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=1},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=0,this.node.skewY=30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this))):this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=0},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=1,this.node.skewY=-30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this)))):dataMgr.leftHand?this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=1},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=0,this.node.skewY=30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this))):this.node.runAction(cc.sequence(cc.callFunc(function(){this.node.anchorX=0},this),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){this.isVisible=!0,this.isFlip=!1,this.setTexture(),this.node.anchorX=1,this.node.skewY=-30},this),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-90,0))),cc.callFunc(function(){this.node.anchorX=.5,this.node.parent=this.flip1,this.node.setPosition(cc.Vec2.ZERO),this.block.active=!1},this)))},flipModeThree:function(){function e(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.sequence(cc.moveTo(.1,cc.v2(i.x,i.y)),cc.callFunc(function(){e.parent=t,e.setPosition(cc.v2(0,0))},this)))}function t(e,t){var o=e,i=o.getComponent("HeartsSolitairePoker");"flip1"==t.name?dataMgr.leftHand?o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=1},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=0,i.node.skewY=30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(90,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip1,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))):o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=0},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=1,i.node.skewY=-30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-90,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip1,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))):"flip2"==t.name?dataMgr.leftHand?o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=1},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=0,i.node.skewY=30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(135,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip2,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))):o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=0},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=1,i.node.skewY=-30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-135,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip2,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))):"flip3"==t.name&&(dataMgr.leftHand?o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=1},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,-30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=0,i.node.skewY=30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(180,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip3,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))):o.runAction(cc.sequence(cc.callFunc(function(){i.node.anchorX=0},i),cc.spawn(cc.scaleTo(.09,0,1),cc.skewTo(.09,0,30)),cc.callFunc(function(){i.isVisible=!0,i.isFlip=!1,i.setTexture(),i.node.anchorX=1,i.node.skewY=-30},i),cc.spawn(cc.scaleTo(.09,1,1),cc.skewTo(.09,0,0),cc.moveBy(.09,cc.v2(-180,0))),cc.callFunc(function(){i.node.anchorX=.5,i.node.parent=i.flip3,i.node.setPosition(cc.Vec2.ZERO),i.block.active=!1},i))))}if(this.block.active=!0,this.pile8.childrenCount>=3){var o=this.pile8.children[this.pile8.childrenCount-1],i=this.pile8.children[this.pile8.childrenCount-2],c=this.pile8.children[this.pile8.childrenCount-3];this.saveUndoPokerArray("flipThreePoker",function(){var e=new Array;return e.push(o),e.push(i),e.push(c),e},this),0==this.flip1.childrenCount||(0==this.flip2.childrenCount?e(this.flip1.children[this.flip1.childrenCount-1],this.flip3):(e(this.flip2.children[this.flip2.childrenCount-1],this.flip3),e(this.flip1.children[this.flip1.childrenCount-1],this.flip3)));for(var n=1;n<4;n++){var r=this.pile8.children[this.pile8.childrenCount-n];switch(n){case 1:t(r,this.flip3);break;case 2:t(r,this.flip2);break;case 3:t(r,this.flip1)}}}else if(2==this.pile8.childrenCount){var a=this.pile8.children[this.pile8.childrenCount-1],s=this.pile8.children[this.pile8.childrenCount-2];this.saveUndoPokerArray("flipThreePoker",function(){var e=new Array;return e.push(a),e.push(s),e},this),0==this.flip1.childrenCount?(t(a,this.flip2),t(s,this.flip1)):0==this.flip2.childrenCount?(e(this.flip1.children[this.flip1.childrenCount-1],this.flip3),t(a,this.flip2),t(s,this.flip1)):(e(this.flip2.children[this.flip2.childrenCount-1],this.flip3),e(this.flip1.children[this.flip1.childrenCount-1],this.flip3),t(a,this.flip2),t(s,this.flip1))}else if(1==this.pile8.childrenCount){var l=this.pile8.children[0];this.saveUndoPokerArray("flipThreePoker",function(){var e=new Array;return e.push(l),e},this),0==this.flip1.childrenCount?t(l,this.flip1):0==this.flip2.childrenCount?(e(this.flip1.children[this.flip1.childrenCount-1],this.flip2),t(l,this.flip1)):(e(this.flip2.children[this.flip2.childrenCount-1],this.flip3),e(this.flip1.children[this.flip1.childrenCount-1],this.flip2),t(l,this.flip1))}},shake:function(){var e=this;window.audioplayer.play_shake(),console.log("\u9707\u52a8"),this.block.active=!0;for(var t=function(t){var o=selectPokerArray[t],i=selectPokerPosArray[t],c=selectPokerNodeArray[t];o.runAction(cc.sequence(cc.moveBy(.04,cc.v2(-16,0)),cc.moveBy(.04,cc.v2(32,0)),cc.moveBy(.04,cc.v2(-16,0)),cc.moveBy(.04,cc.v2(-8,0)),cc.moveBy(.04,cc.v2(16,0)),cc.moveBy(.04,cc.v2(-8,0)),cc.callFunc(function(){o.parent=c,o.x=i.x,o.y=i.y,this.pokerDown(o)},e)))},o=0;o<selectPokerArray.length;o++)t(o)},return:function(){var e=this;this.scheduleOnce(function(){window.audioplayer.play_pokerDown()},.1),console.log("\u7eb8\u724c\u8fd4\u56de"),this.block.active=!0;for(var t=function(t){var o=selectPokerArray[t],i=selectPokerPosArray[t],c=selectPokerNodeArray[t],n=c.convertToWorldSpaceAR(i),r=e.topNode.convertToNodeSpaceAR(n);o.stopAllActions(),o.runAction(cc.sequence(cc.moveTo(.1,cc.v2(r.x,r.y)),cc.callFunc(function(){o.parent=c,o.x=i.x,o.y=i.y,this.pokerDown(o)},e)))},o=0;o<selectPokerArray.length;o++)t(o)},matchMove:function(){function e(e,t){var o=t.parent.convertToWorldSpaceAR(t.position),i=e.parent.convertToNodeSpaceAR(o);e.runAction(cc.sequence(cc.moveTo(.1,cc.v2(i.x,i.y)),cc.callFunc(function(){e.parent=t,e.setPosition(cc.v2(0,0))},this)))}0==this.flip1.childrenCount&&(0==this.flip2.childrenCount||(0==this.flip3.childrenCount?e(this.flip2.children[this.flip2.childrenCount-1],this.flip1):(e(this.flip2.children[this.flip2.childrenCount-1],this.flip1),e(this.flip3.children[this.flip3.childrenCount-1],this.flip2))))},pokerShrink:function(e){if(this.isMove&&!this.isShrink)switch(this.isShrink=!0,e){case 6:t(6);break;case 7:t(7);break;case 8:t(8);break;case 9:t(9);break;case 10:t(10);break;case 11:t(11);break;case 12:t(12);break;case 13:t(13)}function t(e){for(var t=2*e,o=1;o<selectPokerArray.length;o++){selectPokerArray[o].runAction(cc.moveBy(.2,cc.v2(0,(o-1)*t)))}}},visiblePoker:function(e){if(0!=e.childrenCount){var t=e.children[e.childrenCount-1],o=t.getComponent("HeartsSolitairePoker");o.isVisible||(dataMgr.curScore+=5,window.audioplayer.play_visiblePoker(),t.runAction(cc.sequence(cc.scaleTo(.1,0,1),cc.callFunc(function(){o.isVisible=!0,o.isTouch=!0,o.setTexture()},this),cc.scaleTo(.1,1,1),cc.callFunc(function(){this.block.active=!1},this))))}else this.scheduleOnce(function(){this.block.active=!1},.2)},pokerUp:function(e){var t=e.getChildByName("selectBorder"),o=e.getChildByName("shadow"),i=e.getChildByName("pokerSprite");t.active=!0,t.runAction(cc.moveBy(.2,cc.v2(0,5))),i.runAction(cc.moveBy(.2,cc.v2(0,5))),o.runAction(cc.moveBy(.2,cc.v2(10,-15)))},pokerDown:function(e){var t=e.getChildByName("selectBorder"),o=e.getChildByName("shadow"),i=e.getChildByName("pokerSprite");t.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,-5)),cc.callFunc(function(){t.active=!1,this.block.active=!1},this))),i.runAction(cc.moveBy(.2,cc.v2(0,-5))),o.runAction(cc.moveBy(.2,cc.v2(-10,15)))},saveUndoPokerArray:function(e,t){if("movePoker"===e){var o={};o.selectPokerArray=new Array,o.selectPokerNodeArray=new Array,o.selectPokerPosArray=new Array,o.visiblePoker=null,o.type="movePoker";var i=window.selectPokerNodeArray[0].children[window.selectPokerNodeArray[0].childrenCount-1];if(void 0!=i)i.getComponent("HeartsSolitairePoker").isVisible?o.visiblePoker=null:o.visiblePoker=i;for(var c=0;c<window.selectPokerArray.length;c++)o.selectPokerArray.push(window.selectPokerArray[c]),o.selectPokerNodeArray.push(window.selectPokerNodeArray[c]),o.selectPokerPosArray.push(window.selectPokerPosArray[c]);window.undoPokerArray.push(o)}else if("flipOnePoker"===e){var n={};n.selectPokerArray=new Array,n.selectPokerNodeArray=new Array,n.selectPokerPosArray=new Array,n.type="flipOnePoker";for(var r=t(),a=0;a<r.length;a++)n.selectPokerArray.push(r[a]),n.selectPokerNodeArray.push(this.pile8),n.selectPokerPosArray.push(cc.Vec2.ZERO);window.undoPokerArray.push(n)}else if("flipThreePoker"===e){var s={};s.selectPokerArray=new Array,s.selectPokerNodeArray=new Array,s.selectPokerPosArray=new Array,s.type="flipThreePoker";for(var l=t(),h=0;h<l.length;h++)s.selectPokerArray.push(l[h]),s.selectPokerNodeArray.push(this.pile8),s.selectPokerPosArray.push(cc.Vec2.ZERO);window.undoPokerArray.push(s)}else if("resetPoker"===e){var d={};d.selectPokerArray=new Array,d.selectPokerNodeArray=new Array,d.selectPokerPosArray=new Array,d.type="resetPoker",window.undoPokerArray.push(d)}},scoreCalculate:function(e,t){"collect"===e?"collection1"===t.name||"collection2"===t.name||"collection3"===t.name||"collection4"===t.name||(dataMgr.curScore+=10):"flip1"===t.name||"flip2"===t.name||"flip3"===t.name?dataMgr.curScore+=5:"collection1"!==t.name&&"collection2"!==t.name&&"collection3"!==t.name&&"collection4"!==t.name||(dataMgr.curScore-=10)},getDistance:function(e,t){var o=e.x-t.x,i=e.y-t.y;return Math.sqrt(Math.abs(o*o-i*i))},setPoker:function(e,t,o,i,c,n){this.id=e,this.index=t,this.flower=o,this.type=i,this.isTouch=c,this.isVisible=n},setTexture:function(){var e=this.node.getChildByName("pokerSprite").getComponent(cc.Sprite);e.spriteFrame=new cc.SpriteFrame,this.isVisible?1==this.flower?e.spriteFrame=this.spriteFrameArray[13*(this.flower-1)+(this.index-1)]:2==this.flower?e.spriteFrame=this.spriteFrameArray[13*(this.flower-1)+(this.index-1)]:3==this.flower?e.spriteFrame=this.spriteFrameArray[13*(this.flower-1)+(this.index-1)]:4==this.flower&&(e.spriteFrame=this.spriteFrameArray[13*(this.flower-1)+(this.index-1)]):e.spriteFrame=this.back}}),cc._RF.pop()},{}],HeartsSolitaireResetPoker:[function(e,t,o){"use strict";cc._RF.push(t,"1ac60joQCJH9bEzqp5mqv0E","HeartsSolitaireResetPoker"),cc.Class({extends:cc.Component,properties:{isReset:!1},onLoad:function(){this.init(),this.touchEvent()},start:function(){},init:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.flip1=this.pokerManager.flip1,this.flip2=this.pokerManager.flip2,this.flip3=this.pokerManager.flip3,this.pile8=this.pokerManager.pile8,this.topNode=this.pokerManager.topNode,this.block=this.pokerManager.block},touchEvent:function(){this.node.on("touchstart",this.touchstart,this),this.node.on("touchmove",this.touchmove,this),this.node.on("touchend",this.touchend,this)},touchstart:function(e){e.touch._id},touchmove:function(e){e.touch._id},touchend:function(e){0==e.touch._id&&0==this.node.children.length&&(this.resetPoker(),this.saveUndoPokerArray("resetPoker"))},resetPoker1:function(){this.block.active=!0;var e=this;function t(){if(0!=e.flip2.children.length){var t=e.flip2.children[0];t.runAction(cc.sequence(cc.spawn(cc.moveBy(.02,cc.v2(45,0)),cc.scaleTo(.02,0,1)),cc.callFunc(function(){t.getComponent("HeartsSolitairePoker").isVisible=!1,t.getComponent("HeartsSolitairePoker").isFlip=!0,t.getComponent("HeartsSolitairePoker").setTexture()},e),cc.spawn(cc.moveBy(.02,cc.v2(90,0)),cc.scaleTo(.02,1,1)),cc.callFunc(function(){t.parent=e.pile8,t.x=0,t.y=0,t.getComponent("HeartsSolitairePoker").isTouch=!1,i()},e)))}else i()}var o=e.flip3.children.length;function i(){if(0!=e.flip3.children.length){var t=e.flip3.children[o-1];t.runAction(cc.sequence(cc.spawn(cc.moveBy(.02,cc.v2(45,0)),cc.scaleTo(.02,0,1)),cc.callFunc(function(){t.getComponent("HeartsSolitairePoker").isVisible=!1,t.getComponent("HeartsSolitairePoker").isFlip=!0,t.getComponent("HeartsSolitairePoker").setTexture()},e),cc.spawn(cc.moveBy(.02,cc.v2(135,0)),cc.scaleTo(.02,1,1)),cc.callFunc(function(){t.parent=e.pile8,t.x=0,t.y=0,t.getComponent("HeartsSolitairePoker").isTouch=!1,o--,i(),0==o&&(e.block.active=!1)},e)))}else e.block.active=!1}(function(){if(0!=e.flip1.children.length){var o=e.flip1.children[0];o.runAction(cc.sequence(cc.spawn(cc.moveBy(.02,cc.v2(45,0)),cc.scaleTo(.02,0,1)),cc.callFunc(function(){o.getComponent("HeartsSolitairePoker").isVisible=!1,o.getComponent("HeartsSolitairePoker").isFlip=!0,o.getComponent("HeartsSolitairePoker").setTexture()},e),cc.spawn(cc.moveBy(.02,cc.v2(45,0)),cc.scaleTo(.02,1,1)),cc.callFunc(function(){o.parent=e.pile8,o.x=0,o.y=0,o.getComponent("HeartsSolitairePoker").isTouch=!1,t()},e)))}else t()})()},resetPoker:function(){if(0!=this.flip1.childrenCount||0!=this.flip2.childrenCount||0!=this.flip3.childrenCount){this.resetCount++,window.audioplayer.play_resetPoker(),this.block.active=!0;for(var e=this.flip3.children.concat(this.flip2.children,this.flip1.children),t=new Array,o=e.length;o>0;o--){var i=e[o-1];t.push(i)}var c=this,n=0;this.schedule(function(){if(r(t[n]),++n==t.length){var e=this;this.scheduleOnce(function(){e.block.active=!1,e.pokerManager.impasseJudge()},.25)}},.01,t.length-1)}function r(e){var t=cc.v2();"flip1"===e.parent.name?(t=dataMgr.leftHand?cc.v2(-45,0):cc.v2(45,0),e.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){e.getComponent("HeartsSolitairePoker").isVisible=!1,e.getComponent("HeartsSolitairePoker").isFlip=!0,e.getComponent("HeartsSolitairePoker").setTexture();var t=e.parent.convertToWorldSpaceAR(e.position),o=c.topNode.convertToNodeSpaceAR(t);e.parent=c.topNode,e.x=o.x,e.y=o.y},c),cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,1,1)),cc.callFunc(function(){e.parent=c.pile8,e.x=0,e.y=0,e.getComponent("HeartsSolitairePoker").isTouch=!1},c)))):"flip2"===e.parent.name?(t=dataMgr.leftHand?cc.v2(-67.5,0):cc.v2(67.5,0),e.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){e.getComponent("HeartsSolitairePoker").isVisible=!1,e.getComponent("HeartsSolitairePoker").isFlip=!0,e.getComponent("HeartsSolitairePoker").setTexture();var t=e.parent.convertToWorldSpaceAR(e.position),o=c.topNode.convertToNodeSpaceAR(t);e.parent=c.topNode,e.x=o.x,e.y=o.y},c),cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,1,1)),cc.callFunc(function(){e.parent=c.pile8,e.x=0,e.y=0,e.getComponent("HeartsSolitairePoker").isTouch=!1},c)))):"flip3"===e.parent.name&&(t=dataMgr.leftHand?cc.v2(-90,0):cc.v2(90,0),e.runAction(cc.sequence(cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,.1,1)),cc.callFunc(function(){e.getComponent("HeartsSolitairePoker").isVisible=!1,e.getComponent("HeartsSolitairePoker").isFlip=!0,e.getComponent("HeartsSolitairePoker").setTexture();var t=e.parent.convertToWorldSpaceAR(e.position),o=c.topNode.convertToNodeSpaceAR(t);e.parent=c.topNode,e.x=o.x,e.y=o.y},c),cc.spawn(cc.moveBy(.075,t),cc.scaleTo(.075,1,1)),cc.callFunc(function(){e.parent=c.pile8,e.x=0,e.y=0,e.getComponent("HeartsSolitairePoker").isTouch=!1},c))))}},saveUndoPokerArray:function(e,t){if("movePoker"===e){var o={};o.selectPokerArray=new Array,o.selectPokerNodeArray=new Array,o.selectPokerPosArray=new Array,o.visiblePoker=null,o.type="movePoker";var i=window.selectPokerNodeArray[0].children[window.selectPokerNodeArray[0].childrenCount-1];if(void 0!=i)i.getComponent("HeartsSolitairePoker").isVisible?o.visiblePoker=null:o.visiblePoker=i;for(var c=0;c<window.selectPokerArray.length;c++)o.selectPokerArray.push(window.selectPokerArray[c]),o.selectPokerNodeArray.push(window.selectPokerNodeArray[c]),o.selectPokerPosArray.push(window.selectPokerPosArray[c]);window.undoPokerArray.push(o)}else if("flipOnePoker"===e){var n={};n.selectPokerArray=new Array,n.selectPokerNodeArray=new Array,n.selectPokerPosArray=new Array,n.type="flipOnePoker";for(var r=t(),a=0;a<r.length;a++)n.selectPokerArray.push(r[a]),n.selectPokerNodeArray.push(this.pile8),n.selectPokerPosArray.push(cc.Vec2.ZERO);window.undoPokerArray.push(n)}else if("flipThreePoker"===e){var s={};s.selectPokerArray=new Array,s.selectPokerNodeArray=new Array,s.selectPokerPosArray=new Array,s.type="flipThreePoker";for(var l=t(),h=0;h<l.length;h++)s.selectPokerArray.push(l[h]),s.selectPokerNodeArray.push(this.pile8),s.selectPokerPosArray.push(cc.Vec2.ZERO);window.undoPokerArray.push(s)}else if("resetPoker"===e){var d={};d.selectPokerArray=new Array,d.selectPokerNodeArray=new Array,d.selectPokerPosArray=new Array,d.type="resetPoker",window.undoPokerArray.push(d)}},pokerTouchState:function(){if(0!=this.flip1.childrenCount)if(0!=this.flip2.childrenCount)if(0!=this.flip3.childrenCount){this.flip1.children[this.flip1.childrenCount-1].getComponent("HeartsSolitairePoker").isTouch=!0,this.flip2.children[this.flip2.childrenCount-1].getComponent("HeartsSolitairePoker").isTouch=!1;for(var e=1;e<=this.flip3.childrenCount;e++)this.flip3.children[this.flip3.childrenCount-e].getComponent("HeartsSolitairePoker").isTouch=!1}else this.flip1.children[this.flip1.childrenCount-1].getComponent("HeartsSolitairePoker").isTouch=!0,this.flip2.children[this.flip2.childrenCount-1].getComponent("HeartsSolitairePoker").isTouch=!1;else this.flip1.children[this.flip1.childrenCount-1].getComponent("HeartsSolitairePoker").isTouch=!0},update:function(e){this.pokerTouchState()}}),cc._RF.pop()},{}],HeartsSolitaireRestore:[function(e,t,o){"use strict";cc._RF.push(t,"2f78dxxRhhKsL4fKuDo8Yjb","HeartsSolitaireRestore"),cc.Class({extends:cc.Component,properties:{block:cc.Node},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},ok:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1e3)),cc.callFunc(function(){this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireSetting:[function(e,t,o){"use strict";cc._RF.push(t,"e5dddvP3TRBu41ShtXXOhyK","HeartsSolitaireSetting"),cc.Class({extends:cc.Component,properties:{button_on:cc.SpriteFrame,button_off:cc.SpriteFrame,soundButton:cc.Node,gameModeButton:cc.Node,leftHandButton:cc.Node,timeScoreButton:cc.Node,howToPlay:cc.Node,block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.backGround=cc.find("Canvas/baseView/backGround").getComponent("HeartsSolitaireBackGround")},start:function(){},onEnable:function(){this.judgeButtonState(),this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3)))},onDisable:function(){this.block.opacity=255,this.node.position=cc.v2(0,-1100)},judgeButtonState:function(){if(dataMgr.gameSound){this.soundButton.position=cc.v2(178,239);var e=this.soundButton.getComponent(cc.Sprite);e.spriteFrame=new cc.SpriteFrame,e.spriteFrame=this.button_on}else{this.soundButton.position=cc.v2(134,239);var t=this.soundButton.getComponent(cc.Sprite);t.spriteFrame=new cc.SpriteFrame,t.spriteFrame=this.button_off}if("THREE_POKER_MODE"===dataMgr.gameMode){this.gameModeButton.position=cc.v2(178,144);var o=this.gameModeButton.getComponent(cc.Sprite);o.spriteFrame=new cc.SpriteFrame,o.spriteFrame=this.button_on}else{this.gameModeButton.position=cc.v2(134,144);var i=this.gameModeButton.getComponent(cc.Sprite);i.spriteFrame=new cc.SpriteFrame,i.spriteFrame=this.button_off}if(dataMgr.leftHand){this.leftHandButton.position=cc.v2(178,50);var c=this.leftHandButton.getComponent(cc.Sprite);c.spriteFrame=new cc.SpriteFrame,c.spriteFrame=this.button_on}else{this.leftHandButton.position=cc.v2(134,50);var n=this.leftHandButton.getComponent(cc.Sprite);n.spriteFrame=new cc.SpriteFrame,n.spriteFrame=this.button_off}if(dataMgr.isScoreLabel){this.timeScoreButton.position=cc.v2(178,-45);var r=this.timeScoreButton.getComponent(cc.Sprite);r.spriteFrame=new cc.SpriteFrame,r.spriteFrame=this.button_on}else{this.timeScoreButton.position=cc.v2(134,-45);var a=this.timeScoreButton.getComponent(cc.Sprite);a.spriteFrame=new cc.SpriteFrame,a.spriteFrame=this.button_off}},sound:function(){window.audioplayer.play_button(),dataMgr.gameSound?(dataMgr.gameSound=!1,dataMgr.setItem("gameSound",dataMgr.gameSound),this.soundButton.stopAllActions(),this.soundButton.runAction(cc.moveTo(.1,cc.v2(134,239))),this.changeButton(this.soundButton,!1)):(dataMgr.gameSound=!0,dataMgr.setItem("gameSound",dataMgr.gameSound),this.soundButton.stopAllActions(),this.soundButton.runAction(cc.moveTo(.1,cc.v2(178,239))),this.changeButton(this.soundButton,!0))},gameMode:function(){window.audioplayer.play_button(),"THREE_POKER_MODE"===dataMgr.gameMode?(dataMgr.gameMode="ONE_POKER_MODE",dataMgr.setItem("gameMode",dataMgr.gameMode),this.gameModeButton.stopAllActions(),this.gameModeButton.runAction(cc.moveTo(.1,cc.v2(134,144))),this.changeButton(this.gameModeButton,!1)):(dataMgr.gameMode="THREE_POKER_MODE",dataMgr.setItem("gameMode",dataMgr.gameMode),this.gameModeButton.stopAllActions(),this.gameModeButton.runAction(cc.moveTo(.1,cc.v2(178,144))),this.changeButton(this.gameModeButton,!0)),this.pokerManager.replay(),this.node.active=!1},leftHand:function(){window.audioplayer.play_button(),dataMgr.leftHand?(dataMgr.leftHand=!1,dataMgr.setItem("leftHand",dataMgr.leftHand),this.leftHandButton.stopAllActions(),this.leftHandButton.runAction(cc.moveTo(.1,cc.v2(134,50))),this.changeButton(this.leftHandButton,!1),this.pokerManager.leftHand()):(dataMgr.leftHand=!0,dataMgr.setItem("leftHand",dataMgr.leftHand),this.leftHandButton.stopAllActions(),this.leftHandButton.runAction(cc.moveTo(.1,cc.v2(178,50))),this.changeButton(this.leftHandButton,!0),this.pokerManager.leftHand())},timeAndSocre:function(){window.audioplayer.play_button(),dataMgr.isScoreLabel?(dataMgr.isScoreLabel=!1,dataMgr.setItem("isScoreLabel",dataMgr.isScoreLabel),this.timeScoreButton.stopAllActions(),this.timeScoreButton.runAction(cc.moveTo(.1,cc.v2(134,-45))),this.changeButton(this.timeScoreButton,!1),this.backGround.judgeBorderState()):(dataMgr.isScoreLabel=!0,dataMgr.setItem("isScoreLabel",dataMgr.isScoreLabel),this.timeScoreButton.stopAllActions(),this.timeScoreButton.runAction(cc.moveTo(.1,cc.v2(178,-45))),this.changeButton(this.timeScoreButton,!0),this.backGround.judgeBorderState())},changeButton:function(e,t){var o=e.getComponent(cc.Sprite);t?(o.spriteFrame=new cc.SpriteFrame,o.spriteFrame=this.button_on):(o.spriteFrame=new cc.SpriteFrame,o.spriteFrame=this.button_off)},comment:function(){window.audioplayer.play_button(),window.supportUS()},rule:function(){window.audioplayer.play_button(),this.howToPlay.active=!0},restore:function(){window.audioplayer.play_button(),window.iap.restore()},exit:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1100)),cc.callFunc(function(){dataMgr.isTimeGoesBy=!0,this.node.active=!1},this)))}}),cc._RF.pop()},{}],HeartsSolitaireSettlement:[function(e,t,o){"use strict";cc._RF.push(t,"bdcedaAaipIgY3cVnZqUfwb","HeartsSolitaireSettlement"),cc.Class({extends:cc.Component,properties:{winTitle:cc.SpriteFrame,failTitle:cc.SpriteFrame,title:cc.Sprite,curScoreLabel:cc.Label,bestScoreLabel:cc.Label,curTimeLabel:cc.Label,bestTimeLabel:cc.Label,gameCountLabel:cc.Label,gameWinPercentLabel:cc.Label,fiveStar:cc.Node,block:cc.Node},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager")},start:function(){},onEnable:function(){dataMgr.isTimeGoesBy=!1,this.block.active=!1,this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3))),this.settleMent(),this.showLabel(),this.showTitle()},onDisable:function(){},showLabel:function(){"ONE_POKER_MODE"===dataMgr.gameMode?(this.curScoreLabel.string=dataMgr.curScore,this.bestScoreLabel.string=dataMgr.bestScoreModeOne,this.curTimeLabel.string=this.secondsChangeToMins(dataMgr.curTime),1e9==dataMgr.bestTimeModeOne?this.bestTimeLabel.string="0.00":this.bestTimeLabel.string=this.secondsChangeToMins(dataMgr.bestTimeModeOne),this.gameCountLabel.string=dataMgr.gameCountModeOne,0!=dataMgr.gameCountModeOne?this.gameWinPercentLabel.string=Math.round(dataMgr.gamewinCountModeOne/dataMgr.gameCountModeOne*100)+"/":this.gameWinPercentLabel.string="0/"):(this.curScoreLabel.string=dataMgr.curScore,this.bestScoreLabel.string=dataMgr.bestScoreModeThree,this.curTimeLabel.string=this.secondsChangeToMins(dataMgr.curTime),1e9==dataMgr.bestTimeModeThree?this.bestTimeLabel.string="0.00":this.bestTimeLabel.string=this.secondsChangeToMins(dataMgr.bestTimeModeThree),this.gameCountLabel.string=dataMgr.gameCountModeThree,0!=dataMgr.gameCountModeThree?this.gameWinPercentLabel.string=Math.round(dataMgr.gamewinCountModeThree/dataMgr.gameCountModeThree*100)+"/":this.gameWinPercentLabel.string="0/")},showTitle:function(){dataMgr.isGameWin?(window.audioplayer.play_vectory(),this.title.spriteFrame=new cc.SpriteFrame,this.title.spriteFrame=this.winTitle):(window.audioplayer.play_fail(),this.title.spriteFrame=new cc.SpriteFrame,this.title.spriteFrame=this.failTitle)},settleMent:function(){if(dataMgr.totalTime+=dataMgr.curTime,dataMgr.setItem("totalTime",dataMgr.totalTime),window.gameCenter.gameCenter(ID_COLLECTION.RANK.GAME_TIME,dataMgr.totalTime),console.log("\u6e38\u620f\u603b\u65f6\u95f4"+dataMgr.totalTime),"ONE_POKER_MODE"===dataMgr.gameMode)if(dataMgr.isGameWin){dataMgr.winStreakCountModeOne++,dataMgr.setItem("winStreakCountModeOne",dataMgr.winStreakCountModeOne),console.log("\u5f53\u524d\u4e00\u5f20\u724c\u8fde\u80dc\u5c40\u6570"+dataMgr.winStreakCountModeOne),dataMgr.failStreakCountModeOne=0,dataMgr.setItem("failStreakCountModeOne",dataMgr.failStreakCountModeOne),console.log("\u4e00\u5f20\u724c\u8fde\u8d25\u91cd\u7f6e\u4e3a "+dataMgr.failStreakCountModeOne),dataMgr.winStreakCountModeOne>dataMgr.bestWinStreakCountModeOne&&(console.log("\u5237\u65b0\u4e00\u5f20\u724c\u6700\u9ad8\u8fde\u80dc"),dataMgr.bestWinStreakCountModeOne=dataMgr.winStreakCountModeOne,dataMgr.setItem("bestWinStreakCountModeOne",dataMgr.bestWinStreakCountModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.MAX_WINNING_STREAK_DRAW_ONE,dataMgr.bestWinStreakCountModeOne));var e=Math.floor(7e5/dataMgr.curTime);console.log("\u65f6\u95f4\u5956\u52b1\u5f97\u5206: "+e),dataMgr.curScore+=e,dataMgr.curScore>dataMgr.bestScoreModeOne&&(dataMgr.bestScoreModeOne=dataMgr.curScore,dataMgr.setItem("bestScoreModeOne",dataMgr.bestScoreModeOne),console.log("\u5237\u65b0\u4e00\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_ONE,dataMgr.bestScoreModeOne)),dataMgr.curTime<dataMgr.bestTimeModeOne&&(dataMgr.bestTimeModeOne=dataMgr.curTime,dataMgr.setItem("bestTimeModeOne",dataMgr.bestTimeModeOne),console.log("\u5237\u65b0\u4e00\u5f20\u724c\u5386\u53f2\u6700\u4f73\u65f6\u95f4"+dataMgr.bestTimeModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.FASTEST_TIME_DRAW_ONE,dataMgr.bestTimeModeOne)),dataMgr.gameCountModeOne++,dataMgr.setItem("gameCountModeOne",dataMgr.gameCountModeOne),console.log("\u4e00\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeOne),dataMgr.gamewinCountModeOne++,dataMgr.setItem("gamewinCountModeOne",dataMgr.gamewinCountModeOne),console.log("\u4e00\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.WIN_COUNT_DRAW_ONE,dataMgr.gamewinCountModeOne),this.judgeFiveStar()}else dataMgr.failStreakCountModeOne++,dataMgr.setItem("failStreakCountModeOne",dataMgr.failStreakCountModeOne),console.log("\u5f53\u524d\u4e00\u5f20\u724c\u8fde\u8d25\u5c40\u6570"+dataMgr.failStreakCountModeOne),dataMgr.winStreakCountModeOne=0,dataMgr.setItem("winStreakCountModeOne",dataMgr.winStreakCountModeOne),console.log("\u4e00\u5f20\u724c\u8fde\u80dc\u91cd\u7f6e\u4e3a "+dataMgr.winStreakCountModeOne),dataMgr.failStreakCountModeOne>dataMgr.bestFailStreakCountModeOne&&(console.log("\u5237\u65b0\u4e00\u5f20\u724c\u6700\u9ad8\u8fde\u8d25"),dataMgr.bestFailStreakCountModeOne=dataMgr.failStreakCountModeOne,dataMgr.setItem("bestFailStreakCountModeOne",dataMgr.bestFailStreakCountModeOne)),dataMgr.curScore>dataMgr.bestScoreModeOne&&(dataMgr.bestScoreModeOne=dataMgr.curScore,dataMgr.setItem("bestScoreModeOne",dataMgr.bestScoreModeOne),console.log("\u5237\u65b0\u4e00\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeOne),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_ONE,dataMgr.bestScoreModeOne)),dataMgr.gameCountModeOne++,dataMgr.setItem("gameCountModeOne",dataMgr.gameCountModeOne),console.log("\u4e00\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeOne);else if(dataMgr.isGameWin){dataMgr.winStreakCountModeThree++,dataMgr.setItem("winStreakCountModeThree",dataMgr.winStreakCountModeThree),console.log("\u5f53\u524d\u4e09\u5f20\u724c\u8fde\u80dc\u5c40\u6570"+dataMgr.winStreakCountModeThree),dataMgr.failStreakCountModeThree=0,dataMgr.setItem("failStreakCountModeThree",dataMgr.failStreakCountModeThree),console.log("\u4e09\u5f20\u724c\u8fde\u8d25\u91cd\u7f6e\u4e3a "+dataMgr.failStreakCountModeThree),dataMgr.winStreakCountModeThree>dataMgr.bestWinStreakCountModeThree&&(console.log("\u5237\u65b0\u4e09\u5f20\u724c\u6700\u9ad8\u8fde\u80dc"),dataMgr.bestWinStreakCountModeThree=dataMgr.winStreakCountModeThree,dataMgr.setItem("bestWinStreakCountModeThree",dataMgr.bestWinStreakCountModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.MAX_WINNING_STREAK_DRAW_THREE,dataMgr.bestWinStreakCountModeThree));var t=Math.floor(7e5/dataMgr.curTime);console.log("\u65f6\u95f4\u5956\u52b1\u5f97\u5206: "+t),dataMgr.curScore+=t,dataMgr.curScore>dataMgr.bestScoreModeThree&&(dataMgr.bestScoreModeThree=dataMgr.curScore,dataMgr.setItem("bestScoreModeThree",dataMgr.bestScoreModeThree),console.log("\u5237\u65b0\u4e09\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_THREE,dataMgr.bestScoreModeThree)),dataMgr.curTime<dataMgr.bestTimeModeThree&&(dataMgr.bestTimeModeThree=dataMgr.curTime,dataMgr.setItem("bestTimeModeThree",dataMgr.bestTimeModeThree),console.log("\u5237\u65b0\u4e09\u5f20\u724c\u5386\u53f2\u6700\u4f73\u65f6\u95f4"+dataMgr.bestTimeModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.FASTEST_TIME_DRAW_THREE,dataMgr.bestTimeModeThree)),dataMgr.gameCountModeThree++,dataMgr.setItem("gameCountModeThree",dataMgr.gameCountModeThree),console.log("\u4e09\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeThree),dataMgr.gamewinCountModeThree++,dataMgr.setItem("gamewinCountModeThree",dataMgr.gamewinCountModeThree),console.log("\u4e09\u5f20\u724c\u80dc\u5229\u5c40\u6570"+dataMgr.gamewinCountModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.WIN_COUNT_DRAW_THREE,dataMgr.gamewinCountModeThree),this.judgeFiveStar()}else dataMgr.failStreakCountModeThree++,dataMgr.setItem("failStreakCountModeThree",dataMgr.failStreakCountModeThree),console.log("\u5f53\u524d\u4e09\u5f20\u724c\u8fde\u8d25\u5c40\u6570"+dataMgr.failStreakCountModeThree),dataMgr.winStreakCountModeThree=0,dataMgr.setItem("winStreakCountModeThree",dataMgr.winStreakCountModeThree),console.log("\u4e09\u5f20\u724c\u8fde\u80dc\u91cd\u7f6e\u4e3a "+dataMgr.winStreakCountModeThree),dataMgr.failStreakCountModeThree>dataMgr.bestFailStreakCountModeThree&&(console.log("\u5237\u65b0\u4e09\u5f20\u724c\u6700\u9ad8\u8fde\u8d25"),dataMgr.bestFailStreakCountModeThree=dataMgr.failStreakCountModeThree,dataMgr.setItem("bestFailStreakCountModeThree",dataMgr.bestFailStreakCountModeThree)),dataMgr.curScore>dataMgr.bestScoreModeThree&&(dataMgr.bestScoreModeThree=dataMgr.curScore,dataMgr.setItem("bestScoreModeThree",dataMgr.bestScoreModeThree),console.log("\u5237\u65b0\u4e09\u5f20\u724c\u5386\u53f2\u6700\u9ad8\u5206"+dataMgr.bestScoreModeThree),window.gameCenter.gameCenter(ID_COLLECTION.RANK.BEST_SCORE_DRAW_THREE,dataMgr.bestScoreModeThree)),dataMgr.gameCountModeThree++,dataMgr.setItem("gameCountModeThree",dataMgr.gameCountModeThree),console.log("\u4e09\u5f20\u724c\u603b\u5c40\u6570"+dataMgr.gameCountModeThree)},judgeFiveStar:function(){var e=dataMgr.gamewinCountModeOne+dataMgr.gamewinCountModeThree;if(console.log("\u80dc\u5229\u5c40\u6570"+e),e%2==0){if(!dataMgr.isFiveStar)return void window.gameCenter.fiveStar();if(dataMgr.fiveStarCount++,dataMgr.setItem("fiveStarCount",dataMgr.fiveStarCount),console.log("\u4e94\u661f\u597d\u8bc4\u6b21\u6570"+dataMgr.fiveStarCount),dataMgr.fiveStarCount>10)return;this.fiveStar.active=!0}},secondsChangeToMins:function(e){var t=Math.floor(e/60),o=e%60;return o<10?t+".0"+o:t+"."+o},newGame:function(){window.audioplayer.play_button(),dataMgr.isGameWin?(this.pokerManager.winNewGame(),this.node.active=!1):(this.pokerManager.failNewGame(),this.node.active=!1)},replay:function(){window.audioplayer.play_button(),dataMgr.isGameWin?(this.pokerManager.winReplay(),this.node.active=!1):(this.pokerManager.faileReplay(),this.node.active=!1)}}),cc._RF.pop()},{}],HeartsSolitaireStatistic:[function(e,t,o){"use strict";cc._RF.push(t,"b15a7vfzKdIOrzINpGwZ1Ar","HeartsSolitaireStatistic"),cc.Class({extends:cc.Component,properties:{gameCount_modeOne:cc.Label,gameWinCount_modeOne:cc.Label,gameWinPercent_modeOne:cc.Label,winStreak_modeOne:cc.Label,failStreak_modeOne:cc.Label,bestScore_modeOne:cc.Label,fastTime_modeOne:cc.Label,gameCount_modeThree:cc.Label,gameWinCount_modeThree:cc.Label,gameWinPercent_modeThree:cc.Label,winStreak_modeThree:cc.Label,failStreak_modeThree:cc.Label,bestScore_modeThree:cc.Label,fastTime_modeThree:cc.Label,block:cc.Node},start:function(){},onEnable:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeBackOut(3))),this.showLabel()},onDisable:function(){this.block.opacity=255,this.node.position=cc.v2(0,-1100)},showLabel:function(){this.gameCount_modeOne.string=dataMgr.gameCountModeOne,this.gameWinCount_modeOne.string=dataMgr.gamewinCountModeOne,0!=dataMgr.gameCountModeOne?this.gameWinPercent_modeOne.string=Math.round(dataMgr.gamewinCountModeOne/dataMgr.gameCountModeOne*100)+"/":this.gameWinPercent_modeOne.string="0/",this.winStreak_modeOne.string=dataMgr.bestWinStreakCountModeOne,this.failStreak_modeOne.string=dataMgr.bestFailStreakCountModeOne,this.bestScore_modeOne.string=dataMgr.bestScoreModeOne,1e9==dataMgr.bestTimeModeOne?this.fastTime_modeOne.string="0.00":this.fastTime_modeOne.string=this.secondsChangeToMins(dataMgr.bestTimeModeOne),this.gameCount_modeThree.string=dataMgr.gameCountModeThree,this.gameWinCount_modeThree.string=dataMgr.gamewinCountModeThree,0!=dataMgr.gameCountModeThree?this.gameWinPercent_modeThree.string=Math.round(dataMgr.gamewinCountModeThree/dataMgr.gameCountModeThree*100)+"/":this.gameWinPercent_modeThree.string="0/",this.winStreak_modeThree.string=dataMgr.bestWinStreakCountModeThree,this.failStreak_modeThree.string=dataMgr.bestFailStreakCountModeThree,this.bestScore_modeThree.string=dataMgr.bestScoreModeThree,1e9==dataMgr.bestTimeModeThree?this.fastTime_modeThree.string="0.00":this.fastTime_modeThree.string=this.secondsChangeToMins(dataMgr.bestTimeModeThree)},secondsChangeToMins:function(e){var t=Math.floor(e/60),o=e%60;return o<10?t+".0"+o:t+"."+o},exit:function(){window.audioplayer.play_button(),this.block.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,1100)),cc.callFunc(function(){dataMgr.isTimeGoesBy=!0,this.node.active=!1},this)))},reset:function(){window.audioplayer.play_button(),dataMgr.gameCountModeOne=0,dataMgr.gamewinCountModeOne=0,dataMgr.bestWinStreakCountModeOne=0,dataMgr.bestFailStreakCountModeOne=0,dataMgr.bestScoreModeOne=0,dataMgr.bestTimeModeOne=1e9,dataMgr.gameCountModeThree=0,dataMgr.gamewinCountModeThree=0,dataMgr.bestWinStreakCountModeThree=0,dataMgr.bestFailStreakCountModeThree=0,dataMgr.bestScoreModeThree=0,dataMgr.bestTimeModeThree=1e9,this.showLabel()}}),cc._RF.pop()},{}],HeartsSolitaireTouchLayer:[function(e,t,o){"use strict";cc._RF.push(t,"e9ff1pXZYhB8qSTheQY96q5","HeartsSolitaireTouchLayer"),cc.Class({extends:cc.Component,properties:{border:cc.Node,triangle:cc.Node,gameMenu:cc.Node,settingMenu:cc.Node,star:cc.Prefab,circle:cc.Prefab},onLoad:function(){this.pokerManager=cc.find("Canvas/baseView/pokerManager").getComponent("HeartsSolitairePokerManager"),this.touchEvent(),this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,dataMgr.iphoneX&&(this.border.y=-755)},start:function(){},touchEvent:function(){this.node.on("touchstart",this.touchstart,this)},touchstart:function(e){0==e.touch._id&&(this.pokerManager.autoTipsTimeCount=0,this.playParticle(e.getLocation(),1),this.borderState())},borderState:function(){window.audioplayer.play_touch(),this.triangle.rotation<=90?(window.hideBanner(),this.border.stopAllActions(),this.triangle.stopAllActions(),dataMgr.iphoneX?(this.border.runAction(cc.moveTo(.2,cc.v2(0,-630))),this.triangle.runAction(cc.rotateTo(.2,180))):(this.border.runAction(cc.moveTo(.2,cc.v2(0,-535))),this.triangle.runAction(cc.rotateTo(.2,180)))):(window.showBanner(),this.border.stopAllActions(),this.triangle.stopAllActions(),dataMgr.iphoneX?(this.border.runAction(cc.moveTo(.2,cc.v2(0,-755))),this.triangle.runAction(cc.rotateTo(.2,0))):(this.border.runAction(cc.moveTo(.2,cc.v2(0,-630))),this.triangle.runAction(cc.rotateTo(.2,0))))},hideBorder:function(){180==this.triangle.rotation&&(this.border.stopAllActions(),this.triangle.stopAllActions(),dataMgr.iphoneX?(this.border.runAction(cc.moveTo(.2,cc.v2(0,-755))),this.triangle.runAction(cc.rotateTo(.2,0))):(this.border.runAction(cc.moveTo(.2,cc.v2(0,-630))),this.triangle.runAction(cc.rotateTo(.2,0)))),window.showBanner()},playParticle:function(e,t){var o=cc.instantiate(this.circle);this.pokerManager.node.addChild(o),o.setScale(t);var i=this.pokerManager.node.convertToNodeSpaceAR(e);o.position=i},tips:function(){this.pokerManager.tips()},undo:function(){this.pokerManager.undo()},game:function(){window.audioplayer.play_button(),dataMgr.isTimeGoesBy=!1,this.gameMenu.active=!0},setting:function(){window.audioplayer.play_button(),dataMgr.isTimeGoesBy=!1,this.settingMenu.active=!0}}),cc._RF.pop()},{}],Util:[function(e,t,o){"use strict";cc._RF.push(t,"2308fwSAiJGKbTeQH85TLNW","Util"),window.supportUS=function(){var e="https://itunes.apple.com/app/id"+ID_COLLECTION.APPIP+"?mt=8&action=write-review";cc.sys.openURL(e)},window.appleShare=function(e){if(cc.sys.os==cc.sys.OS_IOS){var t="I've just reach "+e+" level in Plant Try to beat me->\nhttps://itunes.apple.com/app/id"+ID_COLLECTION.APPIP;jsb.reflection.callStaticMethod("Hn_Util","shareToSocialNetwork:",t)}},cc._RF.pop()},{}],Vibrate:[function(e,t,o){"use strict";cc._RF.push(t,"42944wnMelLDb12sOhsVppC","Vibrate"),window.canVibrate=!0,window.vibrate1=function(){cc.sys.os==cc.sys.OS_IOS&&window.canVibrate&&window.readyToVibrate&&jsb.reflection.callStaticMethod("Hn_Util","vibrate1")},window.vibrate2=function(){var e=Number(new Date);console.log(e),window.last_vibrate&&window.last_vibrate-e<200||(window.last_vibrate=e,cc.sys.os==cc.sys.OS_IOS&&window.canVibrate&&window.readyToVibrate&&jsb.reflection.callStaticMethod("Hn_Util","vibrate2"))},window.vibrate3=function(){cc.sys.os==cc.sys.OS_IOS&&window.canVibrate&&window.readyToVibrate&&jsb.reflection.callStaticMethod("Hn_Util","vibrate3")},window.vibrate4=function(){cc.sys.os==cc.sys.OS_IOS&&window.canVibrate&&window.readyToVibrate&&jsb.reflection.callStaticMethod("Hn_Util","vibrate4")},cc._RF.pop()},{}],adconfig:[function(e,t,o){"use strict";cc._RF.push(t,"6ac2f5iTaFB0bIMBiyh8FN/","adconfig"),window.ID_COLLECTION={},ID_COLLECTION.DecorId="Re.HeartsSolitaire",ID_COLLECTION.APPIP=1449241562,ID_COLLECTION.IAP={},ID_COLLECTION.IAP.NOAD="HeartsSolitaire.Noads",ID_COLLECTION.RANK={},ID_COLLECTION.RANK.GAME_TIME="HeartsSolitaire_Gametime",ID_COLLECTION.RANK.WIN_COUNT_DRAW_ONE="HeartsSolitaire_WinCountDraw1",ID_COLLECTION.RANK.BEST_SCORE_DRAW_ONE="HeartsSolitaire_BestScoreDraw",ID_COLLECTION.RANK.FASTEST_TIME_DRAW_ONE="HeartsSolitaire_FastestTimeDraw",ID_COLLECTION.RANK.MAX_WINNING_STREAK_DRAW_ONE="HeartsSolitaire_MaxWinningStreakDraw1",ID_COLLECTION.RANK.WIN_COUNT_DRAW_THREE="HeartsSolitaire_WinCount Draw3",ID_COLLECTION.RANK.BEST_SCORE_DRAW_THREE="HeartsSolitaire_BestScoreDraw3",ID_COLLECTION.RANK.FASTEST_TIME_DRAW_THREE="HeartsSolitaire_FastestTimeDraw3",ID_COLLECTION.RANK.MAX_WINNING_STREAK_DRAW_THREE="HeartsSolitaire_MaxWinningStreakDraw3";cc._RF.pop()},{}],admob:[function(e,t,o){"use strict";cc._RF.push(t,"08a322T2TNAPaZqty2a1wSm","admob"),window.mylog=console.log;var i="rewarded",c={callback:function(e){mylog("ad mob call back not implement")},init:function(){sdkbox.PluginAdMob.init(),this.cacheFullScreenAD(),this.cacheRewardVideoAD(),this.cacheBannerAD()},setCallback:function(e){var t=this;sdkbox.PluginAdMob.setListener({adViewDidReceiveAd:function(e){mylog("call back admob adViewDidReceiveAd "+e);var o="";switch(e){case i:o="reward";break;case"home":o="bottombanner";break;case"next_level":o="fullscreen";break;default:return}t.callback("success_cache",o)},adViewDidFailToReceiveAdWithError:function(e,o){mylog("call back admob adViewDidFailToReceiveAdWithError "+e),t.callback("adViewDidFailToReceiveAdWithError",e==i)},adViewWillPresentScreen:function(e){mylog("call back admob adViewWillPresentScreen "+e),t.callback("adViewWillPresentScreen",e==i)},adViewDidDismissScreen:function(e){mylog("call back admob adViewDidDismissScreen "+e);var o="";switch(e){case i:o="reward";break;case"home":o="bottombanner";break;case"next_level":o="fullscreen";break;default:return}t.callback("adViewDidDismissScreen",o)},adViewWillDismissScreen:function(e){var o="";switch(e){case i:o="reward",t.callback("suceess_watch_reward",o);break;case"home":o="bottombanner";break;case"next_level":o="fullscreen";break;default:return}},reward:function(e){var o="";switch(e){case i:o="reward",t.callback("suceess_watch_reward",o)}},adViewWillLeaveApplication:function(e){mylog("call back admob adViewWillLeaveApplication "+e),t.callback("adViewWillLeaveApplication",e==i)}}),this.callback=e},cacheADByName:function(e){sdkbox.PluginAdMob.cache(e)},cacheFullScreenAD:function(){mylog("cache full screen"),this.cacheADByName("next_level")},cacheRewardVideoAD:function(){mylog("cache reward"),this.cacheADByName(i)},cacheBannerAD:function(){mylog("cache banner"),this.cacheADByName("home")},showFullScreenAD:function(){sdkbox.PluginAdMob.show("next_level")},showRewardVideoAD:function(){sdkbox.PluginAdMob.show(i)},showBanner:function(){sdkbox.PluginAdMob.show("home")},hideBanner:function(){sdkbox.PluginAdMob.hide("home")},isAvailableByName:function(e){return sdkbox.PluginAdMob.isAvailable(e)},isFullScreenAvailable:function(){return this.isAvailableByName("next_level")},isRewardVideoAvailable:function(){return this.isAvailableByName(i)},isBannerAvailable:function(){return sdkbox.PluginAdMob.isAvailable("home")},check:function(){this.isFullScreenAvailable()||this.cacheFullScreenAD(),this.isRewardVideoAvailable()||this.cacheRewardVideoAD(),this.isBannerAvailable()||this.cacheBannerAD()}};t.exports=c,cc._RF.pop()},{}],chartboost:[function(e,t,o){"use strict";cc._RF.push(t,"48a39GleTJL2oPAelhFbACY","chartboost");var i="Level Complete",c={callback:function(e){mylog("chartboost callback not implement")},init:function(e){mylog("chartboost init"),sdkbox.PluginChartboost.init(),this.cacheFullScreenAD(),this.cacheRewardVideoAD()},setCallback:function(e){var t=this;sdkbox.PluginChartboost.setListener({onChartboostCached:function(e){mylog("AD chartboost onChartboostCached "+e),t.callback("onChartboostCached",e)},onChartboostShouldDisplay:function(e){mylog("AD chartboost onChartboostShouldDisplay "+e),t.callback("onChartboostShouldDisplay",e==i)},onChartboostDisplay:function(e){mylog("AD chartboost onChartboostDisplay "+e),t.callback("onChartboostDisplay",e==i)},onChartboostDismiss:function(e){mylog("AD chartboost onChartboostDismiss "+e);var o="";switch(e){case i:o="reward";break;case"home":o="bottombanner";break;case"Default":o="fullscreen";break;default:return}t.callback("onChartboostDismiss",o)},onChartboostClose:function(e){console.log("AD chartboost onChartboostClose "+e),t.callback("onChartboostClose",e==i)},onChartboostClick:function(e){mylog("AD chartboost onChartboostClick "+e),t.callback("onChartboostClick",e==i)},onChartboostReward:function(e,o){mylog("AD chartboost onChartboostReward "+e+" reward "+o),1==o&&t.callback("suceess_watch_reward")},onChartboostFailedToLoad:function(e,o){mylog("AD chartboost onChartboostFailedToLoad "+e+" load error "+o),t.callback("onChartboostFailedToLoad",e==i)},onChartboostFailToRecordClick:function(e,o){mylog("AD chartboost onChartboostFailToRecordClick "+e+" load error "+o),t.callback("onChartboostFailToRecordClick",e==i)},onChartboostConfirmation:function(){t.callback("onChartboostConfirmation",!1)},onChartboostCompleteStore:function(){t.callback("onChartboostCompleteStore",!1)}}),this.callback=e},cacheADByName:function(e){sdkbox.PluginChartboost.cache(e)},cacheFullScreenAD:function(){mylog("cache chartboost fullscreen"),this.cacheADByName("Default")},cacheRewardVideoAD:function(){mylog("cache chartboost reward video"),this.cacheADByName(i)},showFullScreenAD:function(){mylog("show chartboost fullscreen"),sdkbox.PluginChartboost.show("Default")},showRewardVideoAD:function(){mylog("show chartboost reward video"),sdkbox.PluginChartboost.show(i)},isAvailableByName:function(e){var t=sdkbox.PluginChartboost.isAvailable(e);return mylog("AD chartboost is "+e+" available: "+t),t},isFullScreenAvailable:function(){return this.isAvailableByName("Default")},isRewardVideoAvailable:function(){return this.isAvailableByName(i)},isBannerAvailable:function(){var e=sdkbox.PluginChartboost.isAvailable("banner");return mylog("AD chartboost is banner available: "+e),e},check:function(){this.isFullScreenAvailable()||this.cacheFullScreenAD(),this.isRewardVideoAvailable()||this.cacheRewardVideoAD()}};t.exports=c,cc._RF.pop()},{}],iap:[function(e,t,o){"use strict";cc._RF.push(t,"9861esQbzhIcLEs4yTjrTpL","iap"),window.mylog=console.log;var i={callback:function(e){mylog("iap call back not implement")},init:function(){if(!cc.sys.isMobile)return!1;mylog("iap init"),sdkbox.IAP.init(),this.refreshIAP()},setCallback:function(e){if(!cc.sys.isMobile)return!1;var t=this;sdkbox.IAP.setListener({onProductRequestSuccess:function(e){mylog("iap  refresh  Success \u68c0\u7d22\u6210\u529f"),t.callback("onProductRequestSuccess",e)},onProductRequestFailure:function(e){mylog("iap refresh fail \u68c0\u7d22\u5931\u8d25"),t.callback("onProductRequestFailure",e)},onSuccess:function(e){mylog("iap  bug onsuccess name= \u8d2d\u4e70\u6210\u529f"),t.callback("onBuy",e)},onFailure:function(e,o){mylog("iap \u8d2d\u4e70\u5931\u8d25"),t.callback("onFailure",e,o)},onCanceled:function(e){mylog("iap onCanceled \u5982\u679c\u7528\u6237\u53d6\u6d88\u5219\u89e6\u53d1"),t.callback("onCanceled",e)},onRestored:function(e){mylog("iap onRestored \u6062\u590d\u8d2d\u4e70\u6210\u529f\u5219\u89e6\u53d1  \u53ef\u4ee5\u591a\u6b21\u89e6\u53d1"),t.callback("onRestored",e)},onRestoreComplete:function(e,o){mylog("iap onRestored \u6062\u590d\u8d2d\u4e70\u56de\u8c03"),t.callback("onRestoreComplete",e,o)},onShouldAddStorePayment:function(e){mylog(""),t.callback("onShouldAddStorePayment",e)},onFetchStorePromotionOrder:function(e,o){t.callback("onFetchStorePromotionOrder",e,o)},onFetchStorePromotionVisibility:function(e,o,i){t.callback("onFetchStorePromotionVisibility",e,o,i)},onUpdateStorePromotionOrder:function(e){t.callback("onUpdateStorePromotionOrder",e)},onUpdateStorePromotionVisibility:function(e){t.callback("onUpdateStorePromotionVisibility",e)}}),this.callback=e},refreshIAP:function(){if(!cc.sys.isMobile)return!1;sdkbox.IAP.refresh()},remove_ads:function(){if(!cc.sys.isMobile)return!1;sdkbox.IAP.purchase("remove_ads")},purchase:function(e){if(!cc.sys.isMobile)return!1;sdkbox.IAP.purchase(e)},restore:function(){if(!cc.sys.isMobile)return!1;mylog("iap restore"),sdkbox.IAP.restore()}};t.exports=i,cc._RF.pop()},{}],sdkmanager:[function(e,t,o){"use strict";cc._RF.push(t,"1e7ddqMP5JKTYBSkGuR8g0i","sdkmanager"),window.mylog=console.log;var i={ads:{},showFullScreenAD:function(){if(!cc.sys.isMobile||window.noAD)return!1;this.ads[0].isFullScreenAvailable()?this.ads[0].showFullScreenAD():this.ads[1].isFullScreenAvailable()&&this.ads[1].showFullScreenAD()},cacheFullScreenAD:function(){if(!cc.sys.isMobile)return!1;this.ads[0].isFullScreenAvailable()?this.ads[1].isFullScreenAvailable()||this.ads[1].cacheFullScreenAD():this.ads[0].cacheFullScreenAD()},showRewardVideoAD:function(){if(!cc.sys.isMobile)return!1;this.ads[0].isRewardVideoAvailable()?this.ads[0].showRewardVideoAD():this.ads[1].isRewardVideoAvailable()&&this.ads[1].showRewardVideoAD()},cacheRewardVideoAD:function(){this.ads[0].isRewardVideoAvailable()?this.ads[1].isRewardVideoAvailable()||this.ads[1].cacheRewardVideoAD():this.ads[0].cacheRewardVideoAD()},checkADs:function(){this.ads[0].check(),this.ads[1].check()},showBanner:function(){if(!cc.sys.isMobile||window.noAD)return!1;this.ads[0].isBannerAvailable()?this.ads[0].showBanner():this.ads[1].isBannerAvailable()&&this.ads[1].showBanner()},hideBanner:function(){if(!cc.sys.isMobile||window.noAD)return!1;this.ads[0].hideBanner()},isFullScreenAvailable:function(){return!!cc.sys.isMobile&&(this.ads[0].isFullScreenAvailable()||this.ads[1].isFullScreenAvailable())},isRewardVideoAvailable:function(){return!!cc.sys.isMobile&&(this.ads[0].isRewardVideoAvailable()||this.ads[1].isRewardVideoAvailable())},isBannerAvailable:function(){return!!cc.sys.isMobile&&(this.ads[0].isBannerAvailable()||this.ads[1].isBannerAvailable())},setCallback:function(e){if(!cc.sys.isMobile)return!1;mylog("set callback"),this.ads[0].setCallback(e),this.ads[1].setCallback(e)},init:function(){if(!cc.sys.isMobile)return!1;mylog("init sdkmanager");var t=e("admob"),o=e("chartboost");t.init(),o.init(),this.ads[0]=t,this.ads[1]=o}};t.exports=i,cc._RF.pop()},{admob:"admob",chartboost:"chartboost"}],"use_v2.0.x_cc.Toggle_event":[function(e,t,o){"use strict";cc._RF.push(t,"1cfa67iCEtEUJmt04lKEJm6","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["HeartsSolitaireAudioSource","HeartsSolitaireDataMgr","HeartsSolitaireLoadLocalData","HeartsSolitairePoker","HeartsSolitairePokerManager","HeartsSolitaireResetPoker","adconfig","admob","chartboost","sdkmanager","GameCenter","iap","Util","Vibrate","HeartsSolitaireAutoVectoryMove","HeartsSolitaireBackGround","HeartsSolitaireBlock","HeartsSolitaireFitSize","HeartsSolitaireFiveStar","HeartsSolitaireGameMenu","HeartsSolitaireHowToPlay","HeartsSolitaireImpasse","HeartsSolitaireLoading","HeartsSolitaireLoadingScene","HeartsSolitaireNewGameTips","HeartsSolitaireNewGuide","HeartsSolitaireRestore","HeartsSolitaireSetting","HeartsSolitaireSettlement","HeartsSolitaireStatistic","HeartsSolitaireTouchLayer","use_v2.0.x_cc.Toggle_event"]);